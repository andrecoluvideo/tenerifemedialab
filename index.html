<!-- PARTE 1 / 5 - INIZIO FILE (corretta) -->
<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <!-- Title and meta will be updated by i18n script on load -->
  <title data-i18n="meta.title">Video Tenerife – Turismo, Barche, Real Estate | Andrea Colucci Films</title>
  <meta name="description" data-i18n="meta.description" content="Videomaker a Tenerife: spot turistici, hotel, boat charter e real estate. Drone 4K certificato.">
  <meta name="theme-color" content="#0c0c0f" />
  <meta name="color-scheme" content="dark light" />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://tenerifefilm.vercel.app/" />
  <link rel="sitemap" type="application/xml" href="/sitemap.xml" />

  <!-- Hreflang: SPA con ?lang= -->
  <link rel="alternate" hreflang="it" href="https://tenerifefilm.vercel.app/?lang=it" />
  <link rel="alternate" hreflang="en" href="https://tenerifefilm.vercel.app/?lang=en" />
  <link rel="alternate" hreflang="es" href="https://tenerifefilm.vercel.app/?lang=es" />
  <link rel="alternate" hreflang="x-default" href="https://tenerifefilm.vercel.app/" />

  <!-- Open Graph / Twitter (saranno aggiornati da i18n) -->
  <meta property="og:title" content="Video Tenerife – Turismo, Barche, Real Estate" />
  <meta property="og:description" content="Contenuti video autentici e ad alto impatto. Drone 4K certificato." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://tenerifefilm.vercel.app/" />
  <meta property="og:image" content="/media/hero.webp.jpg" />
  <meta property="og:locale" content="it_IT" />
  <meta name="twitter:card" content="summary_large_image">

  <!-- Preconnect / Preload -->
  <link rel="preload" as="image" href="/media/hero.webp.jpg" imagesrcset="/media/hero.webp.jpg 1920w, /media/hero-1280.webp.jpg 1280w, /media/hero-800.webp.jpg 800w" imagesizes="100vw">
  <link rel="preconnect" href="https://player.vimeo.com" crossorigin>
  <link rel="preconnect" href="https://i.vimeocdn.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">

  <style>
    /* =========================================================================
       ROOT VARIABLES & THEME TOKENS
       ========================================================================= */
    :root{
      --bg:#0a0c12;
      --panel:#0f1420;
      --ink:#eef2f6;
      --muted:#a8b2c3;
      --accent:#e07b3c;           /* arancio caldo */
      --accent-2:#ffca7a;         /* sabbia dorata */
      --sea:#39c2ff;              /* mare */
      --ok:#25d366;               /* whatsapp */
      --border:#1a2233;
      --shadow:0 14px 44px rgba(0,0,0,.35);
      --radius:18px;
      --maxw:1280px;
      --card-grad: linear-gradient(180deg,#0f1420,#0d121e);
      --btn-padding: .9rem 1rem;
      --glow-sand: 0 0 0 1px rgba(241,217,161,.18), 0 0 28px rgba(241,217,161,.18), 0 0 64px rgba(241,217,161,.12);
      --ring: 0 0 0 2px rgba(255,255,255,.05) inset;
      --space: clamp(12px, 2.6vw, 22px);
    }

    /* =========================================================================
       BASIC RESET & TYPOGRAPHY
       ========================================================================= */
    *,*::before,*::after{box-sizing:border-box}
    html,body{margin:0;padding:0;background:linear-gradient(180deg,#090b12,#0b0f18 24%,#0a0d14);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    img{max-width:100%;display:block}
    a{color:inherit;text-decoration:none}
    button{font-family:inherit}
    :focus-visible{outline:2px dashed var(--accent);outline-offset:3px}
    .grad-ink{background:linear-gradient(90deg,#fff,#ffe6c4 40%,#c7f5ff);-webkit-background-clip:text;background-clip:text;color:transparent}
    @media (prefers-reduced-motion: reduce){
      *{animation-duration:.01ms !important; animation-iteration-count:1 !important; transition-duration:.01ms !important; scroll-behavior:auto !important}
    }

    /* =========================================================================
       LAYOUT: shell sidebar + main
       ========================================================================= */
    .shell{display:grid;grid-template-columns:300px 1fr;min-height:100svh}
    @media (max-width:980px){.shell{grid-template-columns:1fr}}
    /* Sidebar fixed su desktop */
    @media (min-width:981px){
      aside{ position:fixed; top:0; left:0; bottom:0; height:100vh; z-index:60 }
      main{ margin-left:300px }
    }

    /* =========================================================================
       SIDEBAR
       ========================================================================= */
    aside{
      position:sticky;top:0;height:100svh;padding:22px 18px;display:flex;flex-direction:column;gap:18px;border-right:1px solid var(--border);
      background:
        linear-gradient(180deg, rgba(0,0,0,.72), rgba(0,0,0,.85)),
        url('/media/sidebar-texture.jpg') center/cover no-repeat;
      backdrop-filter: blur(4px);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
    }
    @media (max-width:980px){aside{position:relative;height:auto}}

    .brand{display:flex;align-items:center;gap:.8rem}
    .logo{width:48px;height:48px;border-radius:14px;background:#0b0f18 url('/media/logo-light.svg') center/70% no-repeat;box-shadow:0 0 0 2px rgba(255,255,255,.04)}
    .brand h1{font:800 16px Orbitron,system-ui;margin:0;letter-spacing:.6px}

    .snav{display:flex;flex-direction:column;gap:6px;margin-top:8px}
    .snav a{padding:.75rem .85rem;border-radius:12px;color:var(--muted);font-weight:700;letter-spacing:.2px;min-height:44px;display:flex;align-items:center}
    .snav a.active,.snav a:hover{background:rgba(255,255,255,.06);color:var(--ink);box-shadow:inset 0 0 0 1px rgba(255,255,255,.06)}

    .cta-side{display:flex;flex-direction:column;gap:8px;margin-top:6px}
    .btn{display:inline-flex;align-items:center;gap:.55rem;background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#0a0c12;padding:var(--btn-padding);border-radius:12px;font-weight:900;box-shadow:0 0 0 2px rgba(255,255,255,.04),var(--shadow);transition:transform .15s ease}
    .btn:hover{transform:translateY(-1px)}
    .btn-outline{background:transparent;border:1px solid var(--border);color:var(--ink);box-shadow:none;padding:.8rem .95rem}
    .chip{display:inline-block;padding:.35rem .7rem;border:1px solid var(--border);border-radius:999px;color:#e8eef6;font-size:.85rem;background:rgba(255,255,255,.03)}

    .lang{margin-top:auto;display:flex;gap:6px}
    .lang button{flex:1;background:transparent;border:1px solid var(--border);color:#d7dee9;padding:.55rem;border-radius:10px;font-weight:800;cursor:pointer}
    .lang button.active{border-color:var(--accent);color:#fff;box-shadow:0 0 0 2px rgba(224,123,60,.12) inset}

    /* =========================================================================
       MAIN + panels
       ========================================================================= */
    main{min-width:0}
    .panel{position:relative;border-top:1px solid var(--border);border-bottom:1px solid var(--border);padding:0;
      -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,.92) 0%, rgba(0,0,0,1) 8%, rgba(0,0,0,1) 92%, rgba(0,0,0,.92) 100%);
              mask-image: linear-gradient(to bottom, rgba(0,0,0,.92) 0%, rgba(0,0,0,1) 8%, rgba(0,0,0,1) 92%, rgba(0,0,0,.92) 100%);
    }
    .wrap{max-width:var(--maxw);margin:0 auto;padding:var(--space)}

    /* edge-fade decorative */
    .edge-fade::before, .edge-fade::after{
      content:"";position:absolute;left:0;right:0;height:56px;pointer-events:none;z-index:1;
      background:linear-gradient(to bottom, rgba(10,12,18,1), rgba(10,12,18,0));
      -webkit-mask-image:linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,0));
              mask-image:linear-gradient(to bottom, rgba(0,0,0,1), rgba(0,0,0,0));
    }
    .edge-fade::after{top:auto;bottom:-1px;transform:rotate(180deg)}
    .edge-fade::before{top:-1px}

    /* =========================================================================
       HERO
       ========================================================================= */
    .hero{background:
      radial-gradient(1200px 520px at 20% -10%, rgba(224,123,60,.22), transparent 60%),
      linear-gradient(180deg,rgba(0,0,0,.2),rgba(0,0,0,.65)),
      url('/media/bg-portfolio.webp.jpg') center/cover no-repeat;
    }
    .hero .glass{background:linear-gradient(180deg,rgba(0,0,0,.45),rgba(0,0,0,.65));border:1px solid rgba(255,255,255,.08);backdrop-filter:blur(6px);border-radius:18px;padding:26px;max-width:820px;box-shadow:var(--ring)}
    .eyebrow{display:inline-flex;align-items:center;gap:.55rem}
    .dot{width:7px;height:7px;border-radius:50%;background:var(--accent)}
    .section-title{font:800 clamp(22px,3.2vw,36px) Orbitron,system-ui;margin:0 0 6px;letter-spacing:.3px}
    .section-sub{color:var(--muted);margin:0 0 20px}
    .cta-row{display:flex;gap:.8rem;flex-wrap:wrap;margin-top:14px}

    /* =========================================================================
       VALUE STRIP (NUOVA) - prima delle sezioni principali
       ========================================================================= */
    .value-strip{background:
      radial-gradient(800px 260px at 80% -10%, rgba(241,217,161,.14), transparent 60%),
      linear-gradient(180deg,rgba(0,0,0,.15),rgba(0,0,0,.48));
    }
    .vgrid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:12px}
    @media (max-width:980px){.vgrid{grid-template-columns:1fr 1fr}}
    @media (max-width:640px){.vgrid{grid-template-columns:1fr}}
    .vcard{background:linear-gradient(180deg,#0f1420,#0d121e);border:1px solid var(--border);border-radius:14px;padding:14px;box-shadow:var(--shadow)}
    .vtitle{font-weight:900;margin:0 0 6px}
    .vdesc{margin:0;color:#cfd8e6}

    /* =========================================================================
       SERVICES (ORA PRIMA DEL PORTFOLIO)
       ========================================================================= */
    .services{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:18px}
    @media (max-width:980px){.services{grid-template-columns:1fr}}
    .svc{position:relative;min-height:300px;border-radius:16px;overflow:hidden;border:1px solid var(--border);background:#0e1421 center/cover no-repeat;display:flex;align-items:flex-end;box-shadow:var(--shadow)}
    .svc::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0) 40%,rgba(0,0,0,.75) 100%)}
    .svc .p{position:relative;z-index:1;padding:18px}
    .tag{display:inline-block;font-weight:800;font-size:.75rem;letter-spacing:.4px;margin-right:8px;padding:.25rem .55rem;border-radius:999px}
    .tag--sea{background:rgba(57,194,255,.18);border:1px solid rgba(57,194,255,.35)}
    .tag--rose{background:rgba(251,113,133,.16);border:1px solid rgba(251,113,133,.35)}
    .tag--mag{background:rgba(192,132,252,.16);border:1px solid rgba(192,132,252,.35)}

    /* =========================================================================
       PORTFOLIO (VIDEOS)
       ========================================================================= */
    .portfolio-sec{background:
      radial-gradient(800px 260px at 80% -10%, rgba(241,217,161,.18), transparent 60%),
      linear-gradient(180deg,rgba(0,0,0,.22),rgba(0,0,0,.55)),
      url('/media/bg-portfolio.webp.jpg') center/cover no-repeat;
    }
    .portfolio-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:18px}
    @media (max-width:900px){.portfolio-grid{grid-template-columns:1fr}}
    .vid{position:relative;aspect-ratio:16/9;border-radius:16px;overflow:hidden;background:#000;border:1px solid rgba(0,0,0,.12);box-shadow:0 14px 40px rgba(0,0,0,.45)}
    .vid::after{content:"";position:absolute;inset:-1px;border-radius:16px;pointer-events:none;box-shadow:var(--glow-sand)}
    .vid iframe{position:absolute;inset:0;width:100%;height:100%;border:0;display:block;filter:brightness(1.12) contrast(1.03);object-fit:cover}
    .vid .poster{position:absolute;inset:0;background:#0b0f18 center/cover no-repeat;display:none}
    .vid.blocked .poster{display:block}
    .vid.blocked iframe{display:none}

    /* =========================================================================
       PRICING
       ========================================================================= */
    .pricing{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:18px}
    @media (max-width:1100px){.pricing{grid-template-columns:1fr}}
    .card{background:var(--card-grad);border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:var(--shadow);position:relative}
    .card .p{padding:20px}
    .price{font-size:36px;font-weight:900}
    .badge-hit{position:absolute;right:16px;top:16px;background:linear-gradient(90deg,#d9b67a,#f1d9a1);color:#2b1d0f;font-weight:900;border-radius:999px;padding:.3rem .6rem;box-shadow:0 10px 24px rgba(0,0,0,.25)}
    .price-notes{font-size:.9rem;color:#cdd6e4;margin-top:8px}
    .compare{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin-top:16px}
    @media (max-width:1100px){.compare{grid-template-columns:1fr}}
    .compare .cmp{background:#0f131b;border:1px solid var(--border);border-radius:12px;padding:12px}
    .perks{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px;margin-top:10px}
    .perk{display:flex;align-items:center;gap:8px;font-size:.95rem;color:#dfe7f2}
    .perk:before{content:"✓";color:#a7f3d0}

    /* =========================================================================
       MISC / UTILITIES
       ========================================================================= */
    .timeline .tstep{margin:14px 0;position:relative;background:linear-gradient(180deg,#0f1420,#0d121e);border:1px solid var(--border);border-radius:14px;padding:16px}
    footer .chip{cursor:pointer}
    .whats{position:fixed;left:50%;transform:translateX(-50%);bottom:14px;z-index:70;display:none}
    @media (max-width:820px){.whats{display:block}}
    [data-reveal]{opacity:0;transform:translateY(10px);transition:opacity .6s ease, transform .6s ease}
    [data-reveal].revealed{opacity:1;transform:none}
    .bg-stripe{background:linear-gradient(180deg,#0b0f18,#0a0d14)}
    @media print{ .vid, iframe{display:none} }
  </style>

  <!-- Organization JSON-LD (static fallback - updated by i18n) -->
  <script type="application/ld+json" id="org-jsonld">
  {"@context":"https://schema.org","@type":"Organization","name":"Andrea Colucci Films","url":"https://tenerifefilm.vercel.app","logo":"https://tenerifefilm.vercel.app/media/logo-light.svg","sameAs":["https://instagram.com/andrecolu_video","https://vimeo.com/user189374914"],"areaServed":"Tenerife, Spain","description":"Videomaker a Tenerife per turismo, barche, hotel e real estate. Drone 4K certificato."}
  </script>
</head>
<body>

  <!-- shell start -->
  <div class="shell">

    <!-- SIDEBAR -->
    <aside aria-label="Navigazione laterale">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1 class="grad-ink" data-i18n="brand.name">Andrea Colucci Films</h1>
          <div class="chip" data-i18n="brand.loc">Tenerife • Canary Islands</div>
        </div>
      </div>

      <nav class="snav" role="navigation" aria-label="Main navigation">
        <a href="#home" class="slink" data-i18n="nav.home">Home</a>
        <a href="#servizi" class="slink" data-i18n="nav.services">Servizi</a>
        <a href="#portfolio" class="slink" data-i18n="nav.portfolio">Portfolio</a>
        <a href="#prezzi" class="slink" data-i18n="nav.pricing">Prezzi</a>
        <a href="#chi-sono" class="slink" data-i18n="nav.about">Chi sono</a>
        <a href="#processo" class="slink" data-i18n="nav.process">Processo</a>
        <a href="#faq" class="slink" data-i18n="nav.faq">FAQ</a>
        <a href="#contatti" class="slink" data-i18n="nav.contact">Contatti</a>
      </nav>

      <div class="cta-side">
        <a class="btn" href="https://wa.me/393910911719" data-i18n="cta.whatsapp" aria-label="Apri WhatsApp">WhatsApp</a>
        <a class="btn btn-outline" href="#contatti" data-i18n="cta.quote">Richiedi preventivo</a>
      </div>

      <div class="lang" aria-label="Cambia lingua">
        <button class="active" data-lang="it" aria-pressed="true">IT</button>
        <button data-lang="en" aria-pressed="false">EN</button>
        <button data-lang="es" aria-pressed="false">ES</button>
      </div>

      <div class="chip" style="margin-top:6px">© <span id="year"></span></div>
    </aside>

    <!-- MAIN -->
    <main>

      <!-- HERO -->
      <section id="home" class="panel edge-fade hero" role="region" aria-label="Hero">
        <div class="wrap">
          <div class="glass" data-reveal>
            <div class="eyebrow"><span class="dot"></span><span class="chip" data-i18n="hero.ribbon">Drone 4K certificato • Storytelling</span></div>
            <h2 class="section-title" data-i18n="hero.title" data-i18n-html>Video che fanno vivere <span style="color:var(--accent)">Tenerife</span> prima ancora di arrivarci</h2>
            <p class="section-sub" data-i18n="hero.subtitle">Turismo, Boat Charter, Hotel e Real Estate. Produzione agile in loco, montaggi ad alto impatto, ottimizzati per social e ads.</p>
            <div class="cta-row">
              <a href="#portfolio" class="btn" data-i18n="hero.cta1">Guarda Portfolio ⟶</a>
              <a href="#prezzi" class="btn btn-outline" data-i18n="hero.cta2">Scopri i pacchetti</a>
            </div>
          </div>
        </div>
      </section>

      <!-- VALUE STRIP -->
      <section class="panel edge-fade value-strip" role="region" aria-label="Valore">
        <div class="wrap">
          <div class="vgrid">
            <div class="vcard" data-reveal>
              <h4 class="vtitle" data-i18n="value.v1.t">📈 Conversione</h4>
              <p class="vdesc" data-i18n="value.v1.d">Script leggeri e call-to-action integrate per aumentare lead e prenotazioni.</p>
            </div>
            <div class="vcard" data-reveal>
              <h4 class="vtitle" data-i18n="value.v2.t">⚡️ Velocità</h4>
              <p class="vdesc" data-i18n="value.v2.d">Consegna in 3–5 giorni grazie a workflow ottimizzato e proxy smart.</p>
            </div>
            <div class="vcard" data-reveal>
              <h4 class="vtitle" data-i18n="value.v3.t">🎯 Target</h4>
              <p class="vdesc" data-i18n="value.v3.d">Cut su misura per social e ads (9:16, 1:1, 16:9) con A/B test creativo.</p>
            </div>
            <div class="vcard" data-reveal>
              <h4 class="vtitle" data-i18n="value.v4.t">🛡️ Permessi</h4>
              <p class="vdesc" data-i18n="value.v4.d">Gestione permessi droni e sicurezza certificata inclusa dove necessario.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- SERVIZI (ORA SOPRA AL PORTFOLIO) -->
      <section id="servizi" class="panel edge-fade" role="region" aria-label="Servizi" style="background:
  radial-gradient(700px 200px at 85% -10%, rgba(224,123,60,.20), transparent 60%),
  linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.65)),
  url('/media/bg-services.webp.jpg') center/cover no-repeat;">

        <div class="wrap">
          <h3 class="section-title" data-i18n="services.title">Servizi</h3>
          <p class="section-sub" data-i18n="services.subtitle">Soluzioni video su misura per destinazioni, aziende e proprietà.</p>

          <div class="services" role="list">
            <!-- Turismo -->
            <article class="svc" data-reveal role="listitem" aria-label="Turismo & Hotel" style="background-image:url('/media/bg-turismo.webp.jpg')">
              <div class="p">
                <h4 class="grad-ink" style="font-weight:900" data-i18n="services.tourism.title">Turismo & Hotel</h4>
                <p data-i18n="services.tourism.desc">Spot emozionali e contenuti always-on per stagioni e OTA, UGC guidato, pacchetti reel.</p>
                <div>
                  <span class="tag tag--sea" data-i18n="services.tags.story">Storytelling</span>
                  <span class="tag tag--mag" data-i18n="services.tags.social">Social</span>
                  <span class="tag tag--rose" data-i18n="services.tags.ads">Ads</span>
                </div>
              </div>
            </article>

            <!-- Boat Charter -->
            <article class="svc" data-reveal role="listitem" aria-label="Boat Charter" style="background-image:url('/media/bg-charter.webp.jpg')">
              <div class="p">
                <h4 class="grad-ink" style="font-weight:900" data-i18n="services.charter.title">Boat Charter</h4>
                <p data-i18n="services.charter.desc">Giornate in mare e luxury charter. Drone/FPV, POV e micro-contenuti che convertono.</p>
                <div>
                  <span class="tag tag--sea" data-i18n="services.tags.drone">Drone 4K</span>
                  <span class="tag tag--mag">FPV</span>
                  <span class="tag tag--rose">Reel Pack</span>
                </div>
              </div>
            </article>

            <!-- Real Estate -->
            <article class="svc" data-reveal role="listitem" aria-label="Real Estate" style="background-image:url('/media/bg-realestate.webp.jpg')">
              <div class="p">
                <h4 class="grad-ink" style="font-weight:900" data-i18n="services.re.title">Real Estate</h4>
                <p data-i18n="services.re.desc">Walkthrough dinamici, aeree cinematiche, versioni per portali e annunci.</p>
                <div>
                  <span class="tag tag--sea">Walkthrough</span>
                  <span class="tag tag--mag">Aerial</span>
                  <span class="tag tag--rose">Portal-Ready</span>
                </div>
              </div>
            </article>
          </div>

        </div>
      </section>

      <!-- PORTFOLIO (sotto ai Servizi, con consent gating e poster) -->
      <section id="portfolio" class="panel edge-fade portfolio-sec" role="region" aria-label="Portfolio">
        <div class="wrap">
          <h3 class="section-title" data-i18n="portfolio.title">Portfolio</h3>
          <p class="section-sub" data-i18n="portfolio.subtitle">4 clip selezionate — autoplay, loop, silenziose (tap per audio).</p>

          <div class="portfolio-grid" role="list">
            <div class="vid blocked" data-reveal role="listitem" aria-label="Drone & Sea video">
              <div class="poster" style="background-image:url('/media/vimeo-drone-sea-poster.jpg')" aria-hidden="true"></div>
              <iframe data-src="https://player.vimeo.com/video/1126627619?autoplay=1&muted=1&loop=1&background=1&playsinline=1" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen title="Drone & Sea" loading="lazy"></iframe>
            </div>

            <div class="vid blocked" data-reveal role="listitem" aria-label="Experience video">
              <div class="poster" style="background-image:url('/media/vimeo-experience-poster.jpg')"></div>
              <iframe data-src="https://player.vimeo.com/video/1107930426?autoplay=1&muted=1&loop=1&background=1&playsinline=1" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen title="Experience" loading="lazy"></iframe>
            </div>

            <div class="vid blocked" data-reveal role="listitem" aria-label="Resort video">
              <div class="poster" style="background-image:url('/media/vimeo-resort-poster.jpg')"></div>
              <iframe data-src="https://player.vimeo.com/video/1096076952?autoplay=1&muted=1&loop=1&background=1&playsinline=1" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen title="Resort" loading="lazy"></iframe>
            </div>

            <div class="vid blocked" data-reveal role="listitem" aria-label="Real Estate video">
              <div class="poster" style="background-image:url('/media/vimeo-realestate-poster.jpg')"></div>
              <iframe data-src="https://player.vimeo.com/video/1041605119?autoplay=1&muted=1&loop=1&background=1&playsinline=1" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen title="Real Estate" loading="lazy"></iframe>
            </div>
          </div>
        </div>
      </section>

      <!-- PREZZI -->
      <section id="prezzi" class="panel edge-fade" role="region" aria-label="Prezzi" style="background:
        radial-gradient(700px 220px at 80% -10%, rgba(241,217,161,.18), transparent 60%),
        linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.65)),
        url('/media/bg-pricing.webp.jpg') center/cover no-repeat;">
        <div class="wrap">
          <h3 class="section-title" data-i18n="pricing.title">Pacchetti</h3>
          <p class="section-sub" data-i18n="pricing.subtitle">Prezzi indicativi — preventivo su misura in 24–48h. <strong style="color:#ffe6c4" data-i18n="pricing.note">Sconti per retainer mensili</strong>.</p>

          <div class="pricing">
            <!-- BASIC -->
            <article class="card" data-reveal>
              <div class="p">
                <h4 style="font-weight:900;color:#ffe0ae" data-i18n="pricing.p1.title">Basic</h4>
                <div class="price" data-i18n="pricing.p1.price">€400</div>
                <ul style="margin:10px 0 0;padding-left:18px;color:#cbd5e1">
                  <li data-i18n="pricing.p1.i1">Mezza giornata riprese (max 4h)</li>
                  <li data-i18n="pricing.p1.i2">1 video 30–45s (verticale)</li>
                  <li data-i18n="pricing.p1.i3">Color grading essenziale</li>
                  <li data-i18n="pricing.p1.i4">Consegna in 5 giorni lavorativi</li>
                </ul>
                <div class="perks">
                  <div class="perk" data-i18n="pricing.p1.p1">Location singola</div>
                  <div class="perk" data-i18n="pricing.p1.p2">Musica royalty</div>
                </div>
                <div class="price-notes" data-i18n="pricing.p1.note">Ideale per reel singolo o lanci lampo.</div>
                <div style="margin-top:14px"><a href="#contatti" class="btn" data-i18n="pricing.book">Prenota questo</a></div>
              </div>
            </article>

            <!-- INTRO - MOST CHOSEN -->
            <article class="card" data-reveal style="outline:1px solid rgba(241,217,161,.25);box-shadow:0 0 32px rgba(241,217,161,.15),var(--shadow)">
              <div class="badge-hit" data-i18n="pricing.popular">Più scelto</div>
              <div class="p">
                <h4 style="font-weight:900;color:#fff" data-i18n="pricing.p2.title">Intro</h4>
                <div class="price" style="color:#fff" data-i18n="pricing.p2.price">€600</div>
                <ul style="margin:10px 0 0;padding-left:18px;color:#e8edf6">
                  <li data-i18n="pricing.p2.i1">Giornata intera (8h) + golden hour</li>
                  <li data-i18n="pricing.p2.i2">1 hero video 60–90s (H o V)</li>
                  <li data-i18n="pricing.p2.i3">+ 2 reel ottimizzati (9:16)</li>
                  <li data-i18n="pricing.p2.i4">Drone 4K incluso (permessi standard)</li>
                  <li data-i18n="pricing.p2.i5">Motion titles + sound design</li>
                  <li data-i18n="pricing.p2.i6">2 round di revisioni</li>
                  <li data-i18n="pricing.p2.i7">Consegna in 3–5 giorni</li>
                </ul>
                <div class="perks">
                  <div class="perk" data-i18n="pricing.p2.p1">Copertura completa</div>
                  <div class="perk" data-i18n="pricing.p2.p2">Versioni social/ads</div>
                  <div class="perk" data-i18n="pricing.p2.p3">Mini storyboard</div>
                  <div class="perk" data-i18n="pricing.p2.p4">Backup 60gg</div>
                </div>
                <div class="price-notes" data-i18n="pricing.p2.note">Perfetto per hotel, charter, property medio-alta.</div>
                <div style="margin-top:14px"><a href="#contatti" class="btn" data-i18n="pricing.book">Prenota questo</a></div>
              </div>
            </article>

            <!-- OFFICIAL -->
            <article class="card" data-reveal>
              <div class="p">
                <h4 style="font-weight:900;color:#ffd39c" data-i18n="pricing.p3.title">Official</h4>
                <div class="price" data-i18n="pricing.p3.price">€899</div>
                <ul style="margin:10px 0 0;padding-left:18px;color:#cbd5e1">
                  <li data-i18n="pricing.p3.i1">Giornata estesa + blue/golden hour</li>
                  <li data-i18n="pricing.p3.i2">1 hero video + 4 reel + cut per ads</li>
                  <li data-i18n="pricing.p3.i3">Script light + storyboard</li>
                  <li data-i18n="pricing.p3.i4">Drone 4K + FPV quando utile</li>
                  <li data-i18n="pricing.p3.i5">Color grading avanzato</li>
                  <li data-i18n="pricing.p3.i6">3 round di revisioni</li>
                  <li data-i18n="pricing.p3.i7">Consegna in 3–7 giorni</li>
                </ul>
                <div class="perks">
                  <div class="perk" data-i18n="pricing.p3.p1">Crew espandibile</div>
                  <div class="perk" data-i18n="pricing.p3.p2">A/B test creatività</div>
                  <div class="perk" data-i18n="pricing.p3.p3">Sottotitoli multilingua</div>
                  <div class="perk" data-i18n="pricing.p3.p4">Backup 90gg</div>
                </div>
                <div class="price-notes" data-i18n="pricing.p3.note">Ideale per resort, luxury charter e ville top.</div>
                <div style="margin-top:14px"><a href="#contatti" class="btn" data-i18n="pricing.book">Prenota questo</a></div>
              </div>
            </article>
          </div>

          <!-- Comparativa rapida -->
          <div class="compare" aria-label="Comparativa pacchetti" data-reveal>
            <div class="cmp" data-i18n="pricing.cmp1">4h • 1 reel • Grading base • 5gg</div>
            <div class="cmp" data-i18n="pricing.cmp2">8h • 1 hero + 2 reel • Drone • 3–5gg • 2 revisioni</div>
            <div class="cmp" data-i18n="pricing.cmp3">Esteso • 1 hero + 4 reel + ads • Drone/FPV • Pro grading</div>
          </div>

        </div>
      </section>

      <!-- PARTE 1 / 5 - FINE -->

<!-- PARTE 2 / 5 - SEZIONI CENTRALI (About, Process, Reviews, FAQ, Contatti, Footer, CTA, Cookie UI) -->

<!-- CHI SONO (aperto) -->
<section id="chi-sono" class="panel edge-fade" role="region" aria-label="Chi sono" style="background:
  linear-gradient(180deg,rgba(0,0,0,.18),rgba(0,0,0,.55)),
  url('/media/about-1.jpg') center/cover no-repeat;">
  <div class="wrap">
    <h3 class="section-title" data-i18n="about.title">Chi sono</h3>
    <p class="section-sub" data-i18n="about.subtitle">Filmmaker a Tenerife: drone pilot certificato, contenuti che convertono.</p>

    <!-- Aperto di default -->
    <details open style="background:rgba(0,0,0,.35);border:1px solid rgba(255,255,255,.08);border-radius:14px;overflow:hidden">
      <summary style="cursor:pointer;padding:14px 18px;font-weight:800" data-i18n="about.open">Apri bio, certificazioni, attrezzatura</summary>
      <div style="display:grid;grid-template-columns:1.1fr .9fr;gap:18px;padding:18px">
        <div>
          <p data-i18n="about.bio" data-i18n-html><strong>Andrea Colucci</strong> — storytelling cinematografico, ritmo musicale, montaggi dinamici. Ho aiutato hotel, charter e agenzie a trasformare la percezione in prenotazioni.</p>
          <ul style="line-height:1.9;color:#dfe7f2">
            <li data-i18n="about.c1">🎓 Certificazioni: <em>UAS A1/A3, A2</em></li>
            <li data-i18n="about.c2">🚁 Drone: 4K, D-Log, ND set, low-light</li>
            <li data-i18n="about.c3">🎥 Camera: 4K 10-bit, profili log, gimbal</li>
            <li data-i18n="about.c4">🎧 Sound: design + royalty music</li>
          </ul>
          <p class="section-sub" data-i18n="about.langs">Parlo IT • EN • ES — lavoro in loco e con retainer per brand turistici.</p>
        </div>
        <div style="border-radius:14px;overflow:hidden;border:1px solid rgba(255,255,255,.08)">
          <div style="height:200px;background:url('/media/about-2.jpg') center/cover no-repeat" role="img" aria-label="About image 1" data-i18n-alt="about.img1.alt"></div>
          <div style="height:200px;background:url('/media/about-3.jpg') center/cover no-repeat" role="img" aria-label="About image 2" data-i18n-alt="about.img2.alt"></div>
        </div>
      </div>
    </details>

    <div style="margin-top:14px" class="section-sub">
      <strong data-i18n="about.rename">Nel settore dal 2016 , con oltre 1 milione di stream su youtoube totali tra progetti personali e collaborati.</strong>
    </div>

    <!-- micro CTA sotto bio -->
    <div class="cta-row" style="margin-top:16px">
      <a href="#portfolio" class="btn" aria-label="Vai al portfolio">Portfolio</a>
      <a href="#contatti" class="btn btn-outline" aria-label="Vai ai contatti">Parliamone</a>
    </div>
  </div>
</section>

<!-- PROCESSO DI LAVORO -->
<section id="processo" class="panel edge-fade bg-stripe" role="region" aria-label="Processo di lavoro" style="background:
  radial-gradient(600px 220px at 10% -10%, rgba(57,194,255,.20), transparent 60%),
  linear-gradient(180deg,#0b0f18,#0a0d14),
  url('/media/bg-process.webp.jpg') center/cover no-repeat;">
  <div class="wrap">
    <h3 class="section-title" data-i18n="process.title">Processo di lavoro</h3>
    <p class="section-sub" data-i18n="process.subtitle">Semplice, veloce, focalizzato sui risultati.</p>

    <div class="timeline" style="position:relative;margin-left:10px;padding-left:22px">
      <div style="content:'';position:absolute;left:10px;top:0;bottom:0;width:2px;background:linear-gradient(180deg,var(--sea),var(--accent))"></div>

      <div class="tstep" data-reveal>
        <strong data-i18n="process.s1.t">01 · Brief & Strategia</strong>
        <p data-i18n="process.s1.d">Obiettivi, pubblico, messaggio. Scelta formato e deliverable.</p>
      </div>

      <div class="tstep" data-reveal>
        <strong data-i18n="process.s2.t">02 · Shooting</strong>
        <p data-i18n="process.s2.d">On-site a Tenerife. Drone/FPV quando utile. Pianificazione golden hour.</p>
      </div>

      <div class="tstep" data-reveal>
        <strong data-i18n="process.s3.t">03 · Editing & Grading</strong>
        <p data-i18n="process.s3.d">Ritmo musicale, titolazioni pulite, color pro.</p>
      </div>

      <div class="tstep" data-reveal>
        <strong data-i18n="process.s4.t">04 · Consegna & Varianti</strong>
        <p data-i18n="process.s4.d">Cut per social e ads. A/B test creatività top-performing.</p>
      </div>
    </div>

    <!-- mini CTA -->
    <div class="cta-row" style="margin-top:16px">
      <a href="#prezzi" class="btn btn-outline">Vedi pacchetti</a>
      <a href="#contatti" class="btn">Richiedi un piano</a>
    </div>
  </div>
</section>

<!-- TESTIMONIALS -->
<section id="reviews" class="panel edge-fade" role="region" aria-label="Dicono di me" style="background:
  linear-gradient(180deg,rgba(0,0,0,.15),rgba(0,0,0,.5)),
  url('/media/bg-reviews.webp.jpg') center/cover no-repeat;">
  <div class="wrap">
    <h3 class="section-title" data-i18n="reviews.title">Dicono di me</h3>
    <p class="section-sub" data-i18n="reviews.subtitle">Clienti reali, risultati misurabili.</p>

    <div style="display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:18px">
      <div class="card" data-reveal>
        <div class="p">
          <p data-i18n="reviews.r1.t">“Prenotazioni dirette ↑ in due settimane. Video emozionale pazzesco.”</p>
          <div class="chip">
            <img src="/media/client-1.jpg" alt="" data-i18n-alt="reviews.r1.img.alt" style="height:16px;vertical-align:middle;border-radius:4px;margin-right:6px">
            <span data-i18n="reviews.r1.w">Hotel Costa Adeje</span>
          </div>
        </div>
      </div>

      <div class="card" data-reveal>
        <div class="p">
          <p data-i18n="reviews.r2.t">“Barche al completo nei weekend. I reel brevi funzionano!”</p>
          <div class="chip">
            <img src="/media/client-2.jpg" alt="" data-i18n-alt="reviews.r2.img.alt" style="height:16px;vertical-align:middle;border-radius:4px;margin-right:6px">
            <span data-i18n="reviews.r2.w">Captain Blue Charter</span>
          </div>
        </div>
      </div>

      <div class="card" data-reveal>
        <div class="p">
          <p data-i18n="reviews.r3.t">“Villa venduta in 9 giorni. Il video ha fatto la differenza.”</p>
          <div class="chip">
            <img src="/media/client-3.jpg" alt="" data-i18n-alt="reviews.r3.img.alt" style="height:16px;vertical-align:middle;border-radius:4px;margin-right:6px">
            <span data-i18n="reviews.r3.w">Agenzia Immobiliare Sur</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FAQ (APERTE) -->
<section id="faq" class="panel edge-fade" role="region" aria-label="FAQ" style="background:
  radial-gradient(700px 200px at 85% -10%, rgba(224,123,60,.20), transparent 60%),
  linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.65)),
  url('/media/bg-faq.webp.jpg') center/cover no-repeat;">
  <div class="wrap">
    <h3 class="section-title" data-i18n="faq.title">FAQ</h3>
    <p class="section-sub" data-i18n="faq.subtitle">Riprese, consegna, permessi.</p>

    <div class="card" data-reveal>
      <div class="p">
        <details open>
          <summary data-i18n="faq.q1.s">Quanto dura uno shooting?</summary>
          <p data-i18n="faq.q1.a">Da 2 ore a giornata intera, in base al pacchetto e alla location.</p>
        </details>
        <details open>
          <summary data-i18n="faq.q2.s">Gestisci i permessi drone?</summary>
          <p data-i18n="faq.q2.a">Sì, includo la gestione dei permessi necessari e volo in sicurezza certificata.</p>
        </details>
        <details open>
          <summary data-i18n="faq.q3.s">Tempi di consegna?</summary>
          <p data-i18n="faq.q3.a">Versione preliminare in 3–5 giorni. Fast track disponibile.</p>
        </details>
        <details open>
          <summary data-i18n="faq.q4.s">In quali lingue lavori?</summary>
          <p data-i18n="faq.q4.a">Italiano, Inglese, Spagnolo.</p>
        </details>
      </div>
    </div>
  </div>
</section>

<!-- CONTATTI -->
<section id="contatti" class="panel edge-fade" role="region" aria-label="Contatti" style="background:
  radial-gradient(700px 200px at 85% -10%, rgba(224,123,60,.20), transparent 60%),
  linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.65)),
  url('/media/bg-deliver.webp.jpg') center/cover no-repeat;">
  <div class="wrap">
    <h3 class="section-title" data-i18n="contact.title">Contattami</h3>
    <p class="section-sub" data-i18n="contact.subtitle">Raccontami il tuo progetto: risposta entro 24–48h.</p>

    <div style="display:grid;grid-template-columns:1.1fr .9fr;gap:18px">
      <!-- Form -->
      <div class="card" data-reveal>
        <div class="p">
          <!-- Form con honeypot anti-spam e attributi ARIA -->
          <form action="https://formspree.io/f/your-id" method="POST" novalidate aria-label="Modulo contatti">
            <!-- Honeypot -->
            <input type="text" name="_hp" tabindex="-1" autocomplete="off" style="position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden" aria-hidden="true">
            <!-- Nome -->
            <label for="in_nome" class="section-sub" style="display:block;margin-bottom:6px">Nome</label>
            <input id="in_nome" type="text" name="nome" data-i18n="contact.form.nome" placeholder="Il tuo nome completo" required
                   style="margin-bottom:10px;background:#0f131b;border:1px solid var(--border);color:var(--ink);padding:1rem;border-radius:12px;font-size:1rem;width:100%"
                   aria-required="true" aria-invalid="false" autocomplete="name">
            <!-- Email -->
            <label for="in_email" class="section-sub" style="display:block;margin-bottom:6px">Email</label>
            <input id="in_email" type="email" name="email" data-i18n="contact.form.email" placeholder="La tua email" required
                   style="margin-bottom:10px;background:#0f131b;border:1px solid var(--border);color:var(--ink);padding:1rem;border-radius:12px;font-size:1rem;width:100%"
                   aria-required="true" aria-invalid="false" inputmode="email" autocomplete="email">
            <!-- Messaggio -->
            <label for="in_msg" class="section-sub" style="display:block;margin-bottom:6px">Messaggio</label>
            <textarea id="in_msg" name="messaggio" data-i18n="contact.form.msg" placeholder="Descrivi location, target, obiettivi e tipo di video che vuoi realizzare…" required
                      style="background:#0f131b;border:1px solid var(--border);color:var(--ink);padding:1rem;border-radius:12px;min-height:160px;font-size:1rem;width:100%"
                      aria-required="true" aria-invalid="false"></textarea>
            <!-- Consenso -->
            <div style="display:flex;gap:10px;align-items:center;margin-top:8px">
              <input type="checkbox" id="in_privacy" name="privacy" required aria-required="true">
              <label for="in_privacy" class="section-sub">Acconsento al trattamento dati per rispondere alla richiesta.</label>
            </div>
            <!-- Submit -->
            <button class="btn" type="submit" data-i18n="contact.send" style="margin-top:12px;width:100%">Invia richiesta</button>
            <!-- Helper -->
            <p class="section-sub" style="margin-top:10px;font-size:.9rem">Compilando il modulo accetti la nostra <a href="/privacy.html">Privacy Policy</a>.</p>
          </form>

          <p class="section-sub" style="margin-top:14px;text-align:center">
            <span data-i18n="contact.or">Oppure scrivimi su</span> <a href="https://wa.me/393910911719" rel="noopener" style="color:#25D366;font-weight:700">WhatsApp</a>
          </p>
        </div>
      </div>

      <!-- Quick contacts -->
      <div class="card" data-reveal>
        <div class="p">
          <strong style="font-weight:900" data-i18n="contact.quick">Dati rapidi</strong>
          <ul style="list-style:none;padding-left:0;margin:.6rem 0 0;line-height:1.8">
            <li data-i18n="contact.addr">📍 Tenerife, Isole Canarie</li>
            <li data-i18n="contact.roles">🎥 Film Maker · Drone Pilot · AI Maker</li>
            <li data-i18n="contact.langs">🗣 IT · EN · ES</li>
            <li>📧 <a href="mailto:andreacolucci@hotmail.it">andreacolucci@hotmail.it</a></li>
            <li>🎞 <a href="https://vimeo.com/user189374914" target="_blank" rel="noopener">Portfolio Vimeo</a></li>
            <li>📸 <a href="https://instagram.com/andrecolu_video" target="_blank" rel="noopener">@andrecolu_video</a></li>
          </ul>
          <!-- micro trust -->
          <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
            <span class="chip">P.IVA / CF su richiesta</span>
            <span class="chip">Fatturazione elettronica</span>
            <span class="chip">Contratto e liberatorie</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="panel" role="contentinfo">
  <div class="wrap" style="display:flex;gap:12px;justify-content:space-between;flex-wrap:wrap;align-items:center">
    <div>© <span id="year2"></span> Andrea Colucci Films — Tenerife</div>
    <div style="display:flex;gap:10px;align-items:center">
      <a class="chip" href="/privacy.html" data-i18n="footer.privacy">Privacy</a>
      <a class="chip" href="/terms.html" data-i18n="footer.terms">Termini</a>
      <button class="chip" style="background:transparent;border:1px solid var(--border)" onclick="openCookieModal()" data-i18n="footer.manageCookies">Gestisci cookie</button>
    </div>
  </div>
</footer>

<!-- Sticky CTA (mobile) -->
<div class="whats" role="region" aria-label="Sticky WhatsApp CTA">
  <div style="display:flex;gap:8px">
    <a class="btn" style="background:linear-gradient(135deg,var(--ok),#78e59e)" href="https://wa.me/393910911719" data-i18n="cta.whatsapp" aria-label="Scrivi su WhatsApp">WhatsApp</a>
    <a class="btn btn-outline" href="tel:+393910911719" data-i18n="cta.call" aria-label="Chiama ora">Chiama ora</a>
  </div>
</div>

<!-- FAQ JSON-LD (verrà popolato via script i18n) -->
<script type="application/ld+json" id="faq-jsonld">{"@context":"https://schema.org","@type":"FAQPage","mainEntity":[]}</script>

<!-- Cookie banner & modal (markup) -->
<div id="cookieBanner" style="position:fixed;left:12px;right:12px;bottom:18px;background:linear-gradient(180deg,#0f131b,#0d121e);border:1px solid var(--border);padding:14px;border-radius:12px;display:flex;gap:12px;align-items:center;justify-content:space-between;box-shadow:0 12px 40px rgba(0,0,0,.6);z-index:120">
  <div style="max-width:70%">
    <div style="font-weight:800;margin-bottom:6px" data-i18n="cookie.title">Usiamo cookie per migliorare l'esperienza</div>
    <div style="color:var(--muted);font-size:.95rem" data-i18n="cookie.desc">Accetta i cookie per attivare video, analytics e funzionalità avanzate. Puoi cambiare la scelta dopo.</div>
  </div>
  <div style="display:flex;gap:8px;align-items:center">
    <button class="btn btn-outline" onclick="openCookieModal()" data-i18n="cookie.manage">Gestisci</button>
    <button class="btn" onclick="setCookieConsent({necessary:true,marketing:true,analytics:true})" data-i18n="cookie.accept">Accetta tutto</button>
  </div>
</div>

<div id="cookieModalBackdrop" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);align-items:center;justify-content:center;z-index:130">
  <div style="width:960px;max-width:94%;background:linear-gradient(180deg,#0f1420,#0d121e);padding:20px;border-radius:12px;border:1px solid var(--border);">
    <h3 data-i18n="cookie.modalTitle">Gestione cookie</h3>
    <p data-i18n="cookie.modalDesc">Seleziona quali cookie vuoi abilitare. I video possono essere bloccati fino al consenso.</p>
    <div style="display:flex;gap:12px;align-items:center;margin:14px 0;">
      <label style="display:flex;gap:8px;align-items:center"><input type="checkbox" id="ck_necessary" checked disabled> <span data-i18n="cookie.necessary">Necessary</span></label>
      <label style="display:flex;gap:8px;align-items:center"><input type="checkbox" id="ck_marketing"> <span data-i18n="cookie.marketing">Marketing / Video</span></label>
      <label style="display:flex;gap:8px;align-items:center"><input type="checkbox" id="ck_analytics"> <span data-i18n="cookie.analytics">Analytics</span></label>
    </div>
    <div style="display:flex;gap:10px;justify-content:flex-end">
      <button class="btn btn-outline" onclick="document.getElementById('cookieModalBackdrop').style.display='none'" data-i18n="cookie.cancel">Annulla</button>
      <button class="btn" onclick="saveCookieModal()">Salva e chiudi</button>
    </div>
  </div>
</div>

<!-- NOSCRIPT fallback (verrà completato in Parte 5) -->
<noscript>
  <style>
    [data-reveal]{opacity:1;transform:none}
    .vid iframe{display:block;filter:none}
    #cookieBanner{display:flex}
  </style>
</noscript>
<!-- PARTE 2 / 5 - FINE -->


<!-- PARTE 3 / 5 - INIZIO (≥300 righe) -->

<!-- I18N + UI SCRIPT -->
<script>
/* =========================================================================
   TRANSLATIONS (IT / EN / ES)
   - Chiavi annidate + piatte → robustezza i18n
   - Meta/OG dinamici per SEO
   ========================================================================= */
const TRANSLATIONS = {
  it: {
    meta: {
      title: "Video Tenerife – Turismo, Barche, Real Estate | Andrea Colucci Films",
      description: "Videomaker a Tenerife: spot turistici, hotel, boat charter e real estate. Drone 4K certificato.",
      ogTitle: "Video Tenerife – Turismo, Barche, Real Estate",
      ogImage: "/media/hero.webp.jpg"
    },
    "brand.name": "Andrea Colucci Films",
    "brand.loc": "Tenerife • Canary Islands",
    "nav.home":"Home","nav.portfolio":"Portfolio","nav.services":"Servizi","nav.pricing":"Prezzi","nav.about":"Chi sono","nav.process":"Processo","nav.faq":"FAQ","nav.contact":"Contatti",
    "cta.whatsapp":"WhatsApp","cta.quote":"Richiedi preventivo","cta.call":"Chiama ora",
    "hero.ribbon":"Drone 4K certificato • Storytelling",
    "hero.title":"Video che fanno vivere <span style=\"color:var(--accent)\">Tenerife</span> prima ancora di arrivarci",
    "hero.subtitle":"Turismo, Boat Charter, Hotel e Real Estate. Produzione agile in loco, montaggi ad alto impatto, ottimizzati per social e ads.",
    "hero.cta1":"Guarda Portfolio ⟶","hero.cta2":"Scopri i pacchetti",
    "portfolio.title":"Portfolio","portfolio.subtitle":"4 clip selezionate — autoplay, loop, silenziose (tap per audio).",
    "services.title":"Servizi","services.subtitle":"Soluzioni video su misura per destinazioni, aziende e proprietà.",
    "services.tourism.title":"Turismo & Hotel","services.tourism.desc":"Spot emozionali e contenuti always-on per stagioni e OTA, UGC guidato, pacchetti reel.",
    "services.charter.title":"Boat Charter","services.charter.desc":"Giornate in mare e luxury charter. Drone/FPV, POV e micro-contenuti che convertono.",
    "services.re.title":"Real Estate","services.re.desc":"Walkthrough dinamici, aeree cinematiche, versioni per portali e annunci.",
    "services.tags.story":"Storytelling","services.tags.social":"Social","services.tags.ads":"Ads","services.tags.drone":"Drone 4K",
    "pricing.title":"Pacchetti","pricing.subtitle":"Prezzi indicativi — preventivo su misura in 24–48h.","pricing.note":"Sconti per retainer mensili",
    "pricing.p1.title":"Basic","pricing.p1.price":"€400","pricing.p1.i1":"Mezza giornata riprese (max 4h)","pricing.p1.i2":"1 video 30–45s (verticale)","pricing.p1.i3":"Color grading essenziale","pricing.p1.i4":"Consegna in 5 giorni lavorativi","pricing.p1.p1":"Location singola","pricing.p1.p2":"Musica royalty","pricing.p1.note":"Ideale per reel singolo o lanci lampo.",
    "pricing.popular":"Più scelto","pricing.p2.title":"Intro","pricing.p2.price":"€600","pricing.p2.i1":"Giornata intera (8h) + golden hour","pricing.p2.i2":"1 hero video 60–90s (H o V)","pricing.p2.i3":"+ 2 reel ottimizzati (9:16)","pricing.p2.i4":"Drone 4K incluso (permessi standard)","pricing.p2.i5":"Motion titles + sound design","pricing.p2.i6":"2 round di revisioni","pricing.p2.i7":"Consegna in 3–5 giorni","pricing.p2.p1":"Copertura completa","pricing.p2.p2":"Versioni social/ads","pricing.p2.p3":"Mini storyboard","pricing.p2.p4":"Backup 60gg","pricing.p2.note":"Perfetto per hotel, charter, property medio-alta.",
    "pricing.p3.title":"Official","pricing.p3.price":"€899","pricing.p3.i1":"Giornata estesa + blue/golden hour","pricing.p3.i2":"1 hero video + 4 reel + cut per ads","pricing.p3.i3":"Script light + storyboard","pricing.p3.i4":"Drone 4K + FPV quando utile","pricing.p3.i5":"Color grading avanzato","pricing.p3.i6":"3 round di revisioni","pricing.p3.i7":"Consegna in 3–7 giorni","pricing.p3.p1":"Crew espandibile","pricing.p3.p2":"A/B test creatività","pricing.p3.p3":"Sottotitoli multilingua","pricing.p3.p4":"Backup 90gg","pricing.p3.note":"Ideale per resort, luxury charter e ville top.",
    "pricing.cmp1":"4h • 1 reel • Grading base • 5gg",
    "pricing.cmp2":"8h • 1 hero + 2 reel • Drone • 3–5gg • 2 revisioni",
    "pricing.cmp3":"Esteso • 1 hero + 4 reel + ads • Drone/FPV • Pro grading",
    "pricing.book":"Prenota questo","pricing.ask":"Prenota questo",
    // About
    "about.title":"Chi sono","about.subtitle":"Filmmaker a Tenerife: drone pilot certificato, contenuti che convertono.","about.open":"Apri bio, certificazioni, attrezzatura",
    "about.bio":"<strong>Andrea Colucci</strong> — storytelling cinematografico, ritmo musicale, montaggi dinamici. Ho aiutato hotel, charter e agenzie a trasformare la percezione in prenotazioni.",
    "about.c1":"🎓 Certificazioni: <em>UAS A1/A3, A2</em>","about.c2":"🚁 Drone: 4K, D-Log, ND set, low-light",
    "about.c3":"🎥 Camera: 4K 10-bit, profili log, gimbal","about.c4":"🎧 Sound: design + royalty music",
    "about.langs":"Parlo IT • EN • ES — lavoro in loco e con retainer per brand turistici.",
    "about.rename":"Nel settore dal 2016, con oltre 1 milione di stream su YouTube totali tra progetti personali e collaborazioni.",
    "about.img1.alt":"Immagine about 1","about.img2.alt":"Immagine about 2",
    // Process (nested + flat)
    process: {
      title:"Processo di lavoro", subtitle:"Semplice, veloce, focalizzato sui risultati.",
      s1:{ t:"01 · Brief & Strategia", d:"Obiettivi, pubblico, messaggio. Scelta formato e deliverable." },
      s2:{ t:"02 · Shooting", d:"On-site a Tenerife. Drone/FPV quando utile. Pianificazione golden hour." },
      s3:{ t:"03 · Editing & Grading", d:"Ritmo musicale, titolazioni pulite, color pro." },
      s4:{ t:"04 · Consegna & Varianti", d:"Cut per social e ads. A/B test creatività top-performing." }
    },
    "process.s1.t":"01 · Brief & Strategia","process.s1.d":"Obiettivi, pubblico, messaggio. Scelta formato e deliverable.",
    "process.s2.t":"02 · Shooting","process.s2.d":"On-site a Tenerife. Drone/FPV quando utile. Pianificazione golden hour.",
    "process.s3.t":"03 · Editing & Grading","process.s3.d":"Ritmo musicale, titolazioni pulite, color pro.",
    "process.s4.t":"04 · Consegna & Varianti","process.s4.d":"Cut per social e ads. A/B test creatività top-performing.",
    // Reviews, FAQ, Contact, footer, cookie...
    "reviews.title":"Dicono di me","reviews.subtitle":"Clienti reali, risultati misurabili.",
    "reviews.r1.t":"“Prenotazioni dirette ↑ in due settimane. Video emozionale pazzesco.”","reviews.r1.w":"Hotel Costa Adeje","reviews.r1.img.alt":"Logo Hotel Costa Adeje",
    "reviews.r2.t":"“Barche al completo nei weekend. I reel brevi funzionano!”","reviews.r2.w":"Captain Blue Charter","reviews.r2.img.alt":"Logo Captain Blue Charter",
    "reviews.r3.t":"“Villa venduta in 9 giorni. Il video ha fatto la differenza.”","reviews.r3.w":"Agenzia Immobiliare Sur","reviews.r3.img.alt":"Logo Agenzia Sur",
    "faq.title":"FAQ","faq.subtitle":"Riprese, consegna, permessi.",
    "faq.q1.s":"Quanto dura uno shooting?","faq.q1.a":"Da 2 ore a giornata intera, in base al pacchetto e alla location.",
    "faq.q2.s":"Gestisci i permessi drone?","faq.q2.a":"Sì, includo la gestione dei permessi necessari e volo in sicurezza certificata.",
    "faq.q3.s":"Tempi di consegna?","faq.q3.a":"Versione preliminare in 3–5 giorni. Fast track disponibile.",
    "faq.q4.s":"In quali lingue lavori?","faq.q4.a":"Italiano, Inglese, Spagnolo.",
    "contact.title":"Contattami","contact.subtitle":"Raccontami il tuo progetto: risposta entro 24–48h.",
    "contact.form.nome":"Il tuo nome completo","contact.form.email":"La tua email","contact.form.msg":"Descrivi location, target, obiettivi e tipo di video che vuoi realizzare…","contact.send":"Invia richiesta","contact.or":"Oppure scrivimi su",
    "contact.quick":"Dati rapidi","contact.addr":"📍 Tenerife, Isole Canarie",
    "contact.roles":"🎥 Film Maker · Drone Pilot · AI Maker","contact.langs":"🗣 IT · EN · ES",
    "footer.privacy":"Privacy","footer.terms":"Termini","footer.manageCookies":"Gestisci cookie",
    "cookie.title":"Usiamo cookie per migliorare l'esperienza","cookie.desc":"Accetta i cookie per attivare video, analytics e funzionalità avanzate. Puoi cambiare la scelta dopo.",
    "cookie.manage":"Gestisci","cookie.accept":"Accetta tutto","cookie.modalTitle":"Gestione cookie","cookie.modalDesc":"Seleziona quali cookie vuoi abilitare. I video possono essere bloccati fino al consenso.","cookie.necessary":"Necessary","cookie.marketing":"Marketing / Video","cookie.analytics":"Analytics","cookie.cancel":"Annulla","cookie.saved":"Preferenze salvate"
  },

  /* ============================= ENGLISH ============================= */
  en: {
    meta: {
      title: "Tenerife Video – Tourism, Boats, Real Estate | Andrea Colucci Films",
      description: "Videomaker in Tenerife: tourist spots, hotels, boat charters and real estate videos. Certified 4K drone.",
      ogTitle: "Tenerife Video – Tourism, Boats, Real Estate",
      ogImage: "/media/hero.webp.jpg"
    },
    "brand.name":"Andrea Colucci Films","brand.loc":"Tenerife • Canary Islands",
    "nav.home":"Home","nav.portfolio":"Portfolio","nav.services":"Services","nav.pricing":"Pricing","nav.about":"About","nav.process":"Process","nav.faq":"FAQ","nav.contact":"Contact",
    "cta.whatsapp":"WhatsApp","cta.quote":"Request Quote","cta.call":"Call now",
    "hero.ribbon":"Certified 4K Drone • Storytelling",
    "hero.title":"Videos that make you feel <span style=\"color:var(--accent)\">Tenerife</span> before you arrive",
    "hero.subtitle":"Tourism, boat charters, hotels and real estate. Agile on-site production, high-impact edits, optimized for socials & ads.",
    "hero.cta1":"Watch Portfolio ⟶","hero.cta2":"See Packages",
    "portfolio.title":"Portfolio","portfolio.subtitle":"4 selected clips — autoplay, loop, muted (tap for audio).",
    "services.title":"Services","services.subtitle":"Tailored video solutions for destinations, businesses and properties.",
    "services.tourism.title":"Tourism & Hotels","services.tourism.desc":"Emotional spots and always-on content for seasons and OTAs, guided UGC, reel packages.",
    "services.charter.title":"Boat Charter","services.charter.desc":"Sea days and luxury charters. Drone/FPV, POV and short content that converts.",
    "services.re.title":"Real Estate","services.re.desc":"Dynamic walkthroughs, cinematic aerials, portal-ready versions.",
    "services.tags.story":"Storytelling","services.tags.social":"Social","services.tags.ads":"Ads","services.tags.drone":"Drone 4K",
    "pricing.title":"Packages","pricing.subtitle":"Indicative prices — tailored quote in 24–48h.","pricing.note":"Retainer discounts available",
    "pricing.p1.title":"Basic","pricing.p1.price":"€400","pricing.p1.i1":"Half day shoot (max 4h)","pricing.p1.i2":"1 video 30–45s (vertical)","pricing.p1.i3":"Basic color grading","pricing.p1.i4":"Delivery in 5 working days","pricing.p1.p1":"Single location","pricing.p1.p2":"Royalty music","pricing.p1.note":"Ideal for single reel or short launches.",
    "pricing.popular":"Most chosen","pricing.p2.title":"Intro","pricing.p2.price":"€600","pricing.p2.i1":"Full day (8h) + golden hour","pricing.p2.i2":"1 hero video 60–90s (H or V)","pricing.p2.i3":"+ 2 optimized reels (9:16)","pricing.p2.i4":"4K drone included (standard permits)","pricing.p2.i5":"Motion titles + sound design","pricing.p2.i6":"2 revision rounds","pricing.p2.i7":"Delivery in 3–5 days","pricing.p2.p1":"Comprehensive coverage","pricing.p2.p2":"Social/ads versions","pricing.p2.p3":"Mini storyboard","pricing.p2.p4":"60d backup","pricing.p2.note":"Perfect for hotels, charters, mid-high properties.",
    "pricing.p3.title":"Official","pricing.p3.price":"€899","pricing.p3.i1":"Extended day + blue/golden hour","pricing.p3.i2":"1 hero + 4 reels + ads cut","pricing.p3.i3":"Light script + storyboard","pricing.p3.i4":"4K drone + FPV when useful","pricing.p3.i5":"Advanced color grading","pricing.p3.i6":"3 revision rounds","pricing.p3.i7":"Delivery in 3–7 days","pricing.p3.p1":"Expandable crew","pricing.p3.p2":"Creative A/B testing","pricing.p3.p3":"Multilang subtitles","pricing.p3.p4":"90d backup","pricing.p3.note":"Ideal for resorts, luxury charters and top villas.",
    "pricing.cmp1":"4h • 1 reel • Basic grading • 5d",
    "pricing.cmp2":"8h • 1 hero + 2 reels • Drone • 3–5d • 2 revisions",
    "pricing.cmp3":"Extended • 1 hero + 4 reels + ads • Drone/FPV • Pro grading",
    "pricing.book":"Book this","pricing.ask":"Book this",
    "about.title":"About","about.subtitle":"Filmmaker in Tenerife: certified drone pilot, content that converts.","about.open":"Open bio, certifications, gear",
    "about.bio":"<strong>Andrea Colucci</strong> — cinematic storytelling, musical pacing, dynamic edits. I helped hotels, charters and agencies turn perception into bookings.",
    "about.langs":"I speak IT • EN • ES — I work on-site and on retainers for travel brands.",
    "about.rename":"In the field since 2016, with 1M+ total YouTube streams across personal and collaboration projects.",
    process: {
      title:"Work Process", subtitle:"Simple, fast, result-focused.",
      s1:{ t:"01 · Brief & Strategy", d:"Goals, audience, message. Choose format & deliverables." },
      s2:{ t:"02 · Shooting", d:"On-site in Tenerife. Drone/FPV when useful. Golden hour planning." },
      s3:{ t:"03 · Editing & Grading", d:"Musical pacing, clean titles, pro color." },
      s4:{ t:"04 · Delivery & Variants", d:"Cuts for social and ads. A/B test top-performing creative." }
    },
    "process.s1.t":"01 · Brief & Strategy","process.s1.d":"Goals, audience, message. Choose format & deliverables.",
    "process.s2.t":"02 · Shooting","process.s2.d":"On-site in Tenerife. Drone/FPV when useful. Golden hour planning.",
    "process.s3.t":"03 · Editing & Grading","process.s3.d":"Musical pacing, clean titles, pro color.",
    "process.s4.t":"04 · Delivery & Variants","process.s4.d":"Cuts for social and ads. A/B test top-performing creative.",
    "reviews.title":"What clients say","reviews.subtitle":"Real clients, measurable results.",
    "reviews.r1.t":"“Direct bookings ↑ in two weeks. Amazing emotional video.”","reviews.r1.w":"Hotel Costa Adeje",
    "reviews.r2.t":"“Weekends fully booked. Short reels work!”","reviews.r2.w":"Captain Blue Charter",
    "reviews.r3.t":"“Villa sold in 9 days. Video made the difference.”","reviews.r3.w":"Sur Real Estate Agency",
    "faq.title":"FAQ","faq.subtitle":"Shooting, delivery, permits.",
    "faq.q1.s":"How long is a shoot?","faq.q1.a":"From 2 hours to a full day, depending on pack and location.",
    "faq.q2.s":"Do you handle drone permits?","faq.q2.a":"Yes, I handle necessary permits and fly certified.",
    "faq.q3.s":"Delivery times?","faq.q3.a":"Preview version in 3–5 days. Fast track available.",
    "faq.q4.s":"Which languages do you work in?","faq.q4.a":"Italian, English, Spanish.",
    "contact.title":"Contact me","contact.subtitle":"Tell me about your project – reply within 24–48h.",
    "contact.form.nome":"Your full name","contact.form.email":"Your email","contact.form.msg":"Describe location, target, objectives and type of video you want…","contact.send":"Send request","contact.or":"Or write me on",
    "contact.quick":"Quick facts",
    "footer.privacy":"Privacy","footer.terms":"Terms","footer.manageCookies":"Manage cookies",
    "cookie.title":"We use cookies to improve experience","cookie.desc":"Accept cookies to enable videos, analytics and advanced features. You can change your choice later.",
    "cookie.manage":"Manage","cookie.accept":"Accept all","cookie.modalTitle":"Cookie settings","cookie.modalDesc":"Choose which cookies to enable. Videos can be blocked until consent.","cookie.necessary":"Necessary","cookie.marketing":"Marketing / Video","cookie.analytics":"Analytics","cookie.cancel":"Cancel","cookie.saved":"Preferences saved"
  },

  /* ============================= SPANISH ============================ */
  es: {
    meta: {
      title: "Vídeo Tenerife – Turismo, Barcos, Real Estate | Andrea Colucci Films",
      description: "Videomaker en Tenerife: spots turísticos, hoteles, boat charter y real estate. Drone 4K certificado.",
      ogTitle: "Vídeo Tenerife – Turismo, Barcos, Real Estate",
      ogImage: "/media/hero.webp.jpg"
    },
    "brand.name":"Andrea Colucci Films","brand.loc":"Tenerife • Canary Islands",
    "nav.home":"Inicio","nav.portfolio":"Portfolio","nav.services":"Servicios","nav.pricing":"Precios","nav.about":"Sobre mí","nav.process":"Proceso","nav.faq":"FAQ","nav.contact":"Contacto",
    "cta.whatsapp":"WhatsApp","cta.quote":"Solicitar presupuesto","cta.call":"Llamar ahora",
    "hero.ribbon":"Drone 4K certificado • Storytelling",
    "hero.title":"Vídeos que hacen sentir <span style=\"color:var(--accent)\">Tenerife</span> antes de llegar",
    "hero.subtitle":"Turismo, Boat Charter, Hotel y Real Estate. Producción ágil en local, montajes de alto impacto, optimizados para social y ads.",
    "hero.cta1":"Ver Portfolio ⟶","hero.cta2":"Ver paquetes",
    "portfolio.title":"Portfolio","portfolio.subtitle":"4 clips seleccionados — autoplay, loop, silencioso (tap para audio).",
    "services.title":"Servicios","services.subtitle":"Soluciones de video a medida para destinos, empresas y propiedades.",
    "services.tourism.title":"Turismo & Hotel","services.tourism.desc":"Spots emocionales y contenido always-on para temporada y OTAs, UGC guiado, paquetes de reels.",
    "services.charter.title":"Boat Charter","services.charter.desc":"Días en el mar y charter de lujo. Drone/FPV, POV y microcontenidos que convierten.",
    "services.re.title":"Real Estate","services.re.desc":"Walkthroughs dinámicos, aéreas cinemáticas, versiones para portales.",
    "services.tags.story":"Storytelling","services.tags.social":"Social","services.tags.ads":"Ads","services.tags.drone":"Drone 4K",
    "pricing.title":"Paquetes","pricing.subtitle":"Precios indicativos — presupuesto a medida en 24–48h.","pricing.note":"Descuentos para retainer mensuales",
    "pricing.p1.title":"Basic","pricing.p1.price":"€400","pricing.p1.i1":"Medio día de rodaje (max 4h)","pricing.p1.i2":"1 video 30–45s (vertical)","pricing.p1.i3":"Color grading esencial","pricing.p1.i4":"Entrega en 5 días laborables","pricing.p1.p1":"Ubicación única","pricing.p1.p2":"Música royalty","pricing.p1.note":"Ideal para reel único o lanzamientos cortos.",
    "pricing.popular":"Más elegido","pricing.p2.title":"Intro","pricing.p2.price":"€600","pricing.p2.i1":"Día completo (8h) + golden hour","pricing.p2.i2":"1 hero video 60–90s (H o V)","pricing.p2.i3":"+ 2 reels optimizados (9:16)","pricing.p2.i4":"Drone 4K incluido (permisos estándar)","pricing.p2.i5":"Motion titles + sound design","pricing.p2.i6":"2 rondas de revisión","pricing.p2.i7":"Entrega en 3–5 días","pricing.p2.p1":"Cobertura completa","pricing.p2.p2":"Versiones social/ads","pricing.p2.p3":"Mini storyboard","pricing.p2.p4":"Backup 60d","pricing.p2.note":"Perfecto para hoteles, charter y propiedades medio-altas.",
    "pricing.p3.title":"Official","pricing.p3.price":"€899","pricing.p3.i1":"Día extendido + blue/golden hour","pricing.p3.i2":"1 hero + 4 reels + cortes para ads","pricing.p3.i3":"Script ligero + storyboard","pricing.p3.i4":"Drone 4K + FPV cuando sea útil","pricing.p3.i5":"Color grading avanzado","pricing.p3.i6":"3 rondas de revisión","pricing.p3.i7":"Entrega en 3–7 días","pricing.p3.p1":"Equipo ampliable","pricing.p3.p2":"A/B test creativos","pricing.p3.p3":"Subtítulos multilingües","pricing.p3.p4":"Backup 90d","pricing.p3.note":"Ideal para resorts, charter luxury y villas top.",
    "pricing.cmp1":"4h • 1 reel • Grading base • 5d",
    "pricing.cmp2":"8h • 1 hero + 2 reels • Drone • 3–5d • 2 revisiones",
    "pricing.cmp3":"Extendido • 1 hero + 4 reels + ads • Drone/FPV • Pro grading",
    "pricing.book":"Reservar este","pricing.ask":"Reservar este",
    process: {
      title:"Proceso de trabajo", subtitle:"Simple, rápido y orientado a resultados.",
      s1:{ t:"01 · Brief & Estrategia", d:"Objetivos, público, mensaje. Elección de formato y deliverables." },
      s2:{ t:"02 · Rodaje", d:"On-site en Tenerife. Drone/FPV cuando sea útil. Planificación golden hour." },
      s3:{ t:"03 · Edición & Grading", d:"Ritmo musical, títulos limpios, color pro." },
      s4:{ t:"04 · Entrega & Variantes", d:"Cortes para social y ads. A/B test creatividad top-performing." }
    },
    "process.s1.t":"01 · Brief & Estrategia","process.s1.d":"Objetivos, público, mensaje. Elección de formato y deliverables.",
    "process.s2.t":"02 · Rodaje","process.s2.d":"On-site en Tenerife. Drone/FPV cuando sea útil. Planificación golden hour.",
    "process.s3.t":"03 · Edición & Grading","process.s3.d":"Ritmo musical, títulos limpios, color pro.",
    "process.s4.t":"04 · Entrega & Variantes","process.s4.d":"Cortes para social y ads. A/B test creatividad top-performing.",
    "reviews.title":"Opiniones","reviews.subtitle":"Clientes reales, resultados medibles.",
    "reviews.r1.t":"“Reservas directas ↑ en dos semanas. Vídeo emocional increíble.”","reviews.r1.w":"Hotel Costa Adeje",
    "reviews.r2.t":"“Barcos completos los fines de semana. ¡Los reels cortos funcionan!”","reviews.r2.w":"Captain Blue Charter",
    "reviews.r3.t":"“Villa vendida en 9 días. El vídeo marcó la diferencia.”","reviews.r3.w":"Agencia Inmobiliaria Sur",
    "faq.title":"FAQ","faq.subtitle":"Rodaje, entrega, permisos.",
    "faq.q1.s":"¿Cuánto dura un rodaje?","faq.q1.a":"De 2 horas a un día completo, según pack y ubicación.",
    "faq.q2.s":"¿Gestionas los permisos de dron?","faq.q2.a":"Sí, gestiono los permisos necesarios y vuelo certificado.",
    "faq.q3.s":"¿Tiempos de entrega?","faq.q3.a":"Versión previa en 3–5 días. Fast track disponible.",
    "faq.q4.s":"¿En qué idiomas trabajas?","faq.q4.a":"Italiano, Inglés, Español.",
    "contact.title":"Contáctame","contact.subtitle":"Cuéntame tu proyecto: respuesta en 24–48h.",
    "contact.form.nome":"Tu nombre completo","contact.form.email":"Tu email","contact.form.msg":"Describe ubicación, target, objetivos y el tipo de vídeo que quieres…","contact.send":"Enviar solicitud","contact.or":"O escríbeme por",
    "contact.quick":"Datos rápidos",
    "footer.privacy":"Privacidad","footer.terms":"Términos","footer.manageCookies":"Gestionar cookies",
    "cookie.title":"Usamos cookies para mejorar la experiencia","cookie.desc":"Acepta cookies para activar videos, analytics y funcionalidades avanzadas. Puedes cambiar la elección más tarde.",
    "cookie.manage":"Gestionar","cookie.accept":"Aceptar todo","cookie.modalTitle":"Gestión de cookies","cookie.modalDesc":"Selecciona qué cookies quieres habilitar. Los videos pueden bloquearse hasta el consentimiento.",
    "cookie.necessary":"Necessary","cookie.marketing":"Marketing / Video","cookie.analytics":"Analytics","cookie.cancel":"Cancelar","cookie.saved":"Preferencias guardadas"
  }
};

/* =========================================================================
   Helper: getNested
   - Risolve chiavi piatte ('process.s1.t') e oggetti annidati (process.s1.t)
   ========================================================================= */
function getNested(obj, path){
  if(!obj) return null;
  if(Object.prototype.hasOwnProperty.call(obj, path)) return obj[path];
  return path.split('.').reduce((o,k)=> (o && o[k] !== undefined) ? o[k] : null, obj);
}

/* =========================================================================
   Apply translations to DOM
   - innerHTML vs textContent (data-i18n-html o markup presente)
   - placeholders per input/textarea
   - supporto a data-i18n-alt / title / aria (alt → aria-label se role="img")
   - aggiorna meta/OG e ricostruisce JSON-LD FAQ
   ========================================================================= */
function applyTranslations(lang){
  const dict = TRANSLATIONS[lang] || TRANSLATIONS['it'];
  if(!dict) return;
  const htmlKeys = new Set(['hero.title','about.bio']);

  document.querySelectorAll('[data-i18n]').forEach(el=>{
    const key = el.getAttribute('data-i18n');
    if(!key) return;
    let value = getNested(dict, key);
    if(value === null || value === undefined) return;

    const tag = el.tagName.toLowerCase();

    // Inputs & Textareas → placeholder
    if(tag === 'input' || tag === 'textarea'){
      el.placeholder = value;
    } else {
      // innerHTML se markup
      if(el.hasAttribute('data-i18n-html') || htmlKeys.has(key) || /<[^>]+>/.test(value)){
        el.innerHTML = value;
      } else {
        el.textContent = value;
      }
    }

    // alt/title/aria collegati
    const altKey = el.getAttribute('data-i18n-alt');
    if(altKey){
      const altVal = getNested(dict, altKey);
      if(altVal){
        // se è un elemento decorativo con role="img", usare aria-label
        if(el.getAttribute('role') === 'img'){
          el.setAttribute('aria-label', altVal);
        } else if('alt' in el){
          el.alt = altVal;
        } else {
          el.setAttribute('title', altVal);
        }
      }
    }
    const titleKey = el.getAttribute('data-i18n-title');
    if(titleKey){ const t = getNested(dict, titleKey); if(t) el.setAttribute('title', t); }
    const ariaKey = el.getAttribute('data-i18n-aria');
    if(ariaKey){ const ar = getNested(dict, ariaKey); if(ar) el.setAttribute('aria-label', ar); }
  });

  // Meta dinamici
  if(dict.meta){
    if(dict.meta.title) document.title = dict.meta.title;
    const mdesc = document.querySelector('meta[name="description"]');
    if(mdesc && dict.meta.description) mdesc.setAttribute('content', dict.meta.description);
    const ogt = document.querySelector('meta[property="og:title"]');
    if(ogt && dict.meta.ogTitle) ogt.setAttribute('content', dict.meta.ogTitle);
    const ogd = document.querySelector('meta[property="og:description"]');
    if(ogd && dict.meta.description) ogd.setAttribute('content', dict.meta.description);
    const ogimg = document.querySelector('meta[property="og:image"]');
    if(ogimg && dict.meta.ogImage) ogimg.setAttribute('content', dict.meta.ogImage);
  }

  // JSON-LD FAQ rebuild
  try{
    const faqs = [];
    ['faq.q1','faq.q2','faq.q3','faq.q4'].forEach(k=>{
      const q = getNested(dict, k + '.s') || getNested(dict, k + '.question') || getNested(dict, k + '.q');
      const a = getNested(dict, k + '.a') || getNested(dict, k + '.answer');
      if(q && a) faqs.push({"@type":"Question","name":q,"acceptedAnswer":{"@type":"Answer","text":a}});
    });
    if(faqs.length){
      const payload = {"@context":"https://schema.org","@type":"FAQPage","mainEntity":faqs};
      const el = document.getElementById('faq-jsonld');
      if(el) el.textContent = JSON.stringify(payload);
    }
  }catch(e){ console.warn('JSON-LD rebuild error', e); }

  // <html lang="..">
  document.documentElement.lang = lang;
}

/* =========================================================================
   Lingua: persistenza / UI
   - Priorità URL ?lang= → localStorage → navigator
   ========================================================================= */
function saveLang(l){ try{ localStorage.setItem('tf_lang', l); }catch(e){} }
function loadLang(){
  try{
    const fromUrl = (new URLSearchParams(location.search).get('lang'));
    if(fromUrl) return fromUrl;
    const fromLS = localStorage.getItem('tf_lang');
    if(fromLS) return fromLS;
    return (navigator.language||'it').split('-')[0];
  }catch(e){
    return (navigator.language||'it').split('-')[0];
  }
}

function setLang(lang){
  if(!TRANSLATIONS[lang]) lang = 'it';
  applyTranslations(lang);
  document.querySelectorAll('.lang button').forEach(b => {
    const active = b.dataset.lang === lang;
    b.classList.toggle('active', active);
    b.setAttribute('aria-pressed', active ? 'true' : 'false');
  });
  saveLang(lang);
  // Aggiorna URL senza reload
  try{
    const u = new URL(window.location);
    u.searchParams.set('lang', lang);
    history.replaceState({},'',u.toString());
  }catch(e){}
}

function attachLangHandlers(){
  document.querySelectorAll('.lang button').forEach(b => {
    b.addEventListener('click', ()=> setLang(b.dataset.lang));
  });
}

/* =========================================================================
   COOKIE CONSENT
   - tf_cookie_consents_v1 in localStorage
   - Se marketing=true → abilita video (data-src → src)
   ========================================================================= */
function openCookieModal(){
  const m = document.getElementById('cookieModalBackdrop');
  if(m) m.style.display='flex';
}

function enableMarketingEmbeds(){
  document.querySelectorAll('.vid').forEach(box=>{
    box.classList.remove('blocked');
  });
  document.querySelectorAll('iframe[data-src]').forEach(ifr => {
    if(!ifr.src) ifr.src = ifr.dataset.src;
  });
}

function setCookieConsent(obj){
  try{
    localStorage.setItem('tf_cookie_consents_v1', JSON.stringify(obj));
    const banner = document.getElementById('cookieBanner');
    if(banner) banner.style.display='none';

    if(obj.marketing){ enableMarketingEmbeds(); }

    // messaggio di conferma localizzato
    const lang = (localStorage.getItem('tf_lang') || new URLSearchParams(location.search).get('lang') || 'it');
    const saved = (TRANSLATIONS[lang] && (TRANSLATIONS[lang]['cookie.saved'])) || 'Preferenze salvate';
    try{ alert(saved); }catch(e){}
  }catch(e){ console.warn(e); }
}

function saveCookieModal(){
  const marketing = !!document.getElementById('ck_marketing')?.checked;
  const analytics = !!document.getElementById('ck_analytics')?.checked;
  setCookieConsent({necessary:true, marketing, analytics});
  const m = document.getElementById('cookieModalBackdrop');
  if(m) m.style.display='none';
}

/* =========================================================================
   Utils
   ========================================================================= */
// Vimeo safe postMessage
function vimeoCmd(iframe, method){
  try{
    if(!iframe?.contentWindow) return;
    iframe.contentWindow.postMessage(JSON.stringify({ method }), '*');
  }catch(e){}
}

/* =========================================================================
   DOMContentLoaded
   - init lingua
   - anno footer
   - cookie banner
   - reveal animation
   - scrollspy
   - Vimeo autoplay intelligente (play/pause al 40% visibilità)
   - lazy-preload immagini hero su connessioni veloci
   ========================================================================= */
document.addEventListener('DOMContentLoaded', ()=>{
  // Lingua
  attachLangHandlers();
  const initial = loadLang();
  const final = ['it','en','es'].includes(initial) ? initial : 'it';
  setLang(final);

  // Anno
  const Y = new Date().getFullYear();
  const y1 = document.getElementById('year');
  const y2 = document.getElementById('year2');
  if(y1) y1.textContent = Y;
  if(y2) y2.textContent = Y;

  // Cookie banner & sync stato modale
  try{
    const cons = JSON.parse(localStorage.getItem('tf_cookie_consents_v1') || '{}');
    const banner = document.getElementById('cookieBanner');
    if(cons && (cons.marketing || cons.necessary || cons.analytics)){
      if(banner) banner.style.display='none';
    } else {
      if(banner) banner.style.display='flex';
    }
    // sync check
    const ckM = document.getElementById('ck_marketing');
    const ckA = document.getElementById('ck_analytics');
    if(ckM) ckM.checked = !!cons.marketing;
    if(ckA) ckA.checked = !!cons.analytics;

    // se già marketing=true all'avvio → abilita subito i video
    if(cons && cons.marketing){ enableMarketingEmbeds(); }
  }catch(e){ console.warn(e); }

  // Reveal animation
  const rev = document.querySelectorAll('[data-reveal]');
  try{
    const obs = new IntersectionObserver(entries=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.classList.add('revealed');
          obs.unobserve(e.target);
        }
      });
    }, {threshold:.15});
    rev.forEach(el=>obs.observe(el));
  }catch(e){
    rev.forEach(el=>el.classList.add('revealed'));
  }

  // Scrollspy (attiva link nella sidebar in base alla sezione visibile)
  try{
    const sections = [...document.querySelectorAll('main section[id]')];
    const links = [...document.querySelectorAll('.snav .slink')];
    const spy = new IntersectionObserver(entries=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          const id = e.target.id;
          links.forEach(a=>a.classList.toggle('active', a.getAttribute('href')==='#'+id));
        }
      });
    }, {threshold:.55});
    sections.forEach(s=>spy.observe(s));
  }catch(e){}

  // Vimeo play/pause quando la card è visibile almeno al 40%
  try{
    const vimeoIframes = [...document.querySelectorAll('#portfolio iframe[src], #portfolio iframe[data-src]')];
    const playObs = new IntersectionObserver(entries=>{
      entries.forEach(e=>{
        const ifr = e.target;
        // Se bloccato (niente src) non inviamo messaggi
        if(!ifr.src) return;
        e.isIntersecting ? vimeoCmd(ifr,'play') : vimeoCmd(ifr,'pause');
      });
    },{threshold:.4});
    vimeoIframes.forEach(i=>playObs.observe(i));
  }catch(e){}

  // Preload condizionale immagini (connessioni buone)
  try{
    const conn = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
    const ok = !conn || (conn.downlink && conn.downlink > 1.8);
    if(ok){
      const link = document.createElement('link');
      link.rel = 'preload';
      link.as = 'image';
      link.href = '/media/bg-portfolio.webp.jpg';
      document.head.appendChild(link);
    }
  }catch(e){}
});
</script>

<noscript>
  <style>
    [data-reveal]{opacity:1;transform:none}
    .vid iframe{display:block;filter:none}
    #cookieBanner{display:flex}
  </style>
</noscript>

<!-- PARTE 3 / 5 - FINE -->

<!-- PARTE 4 / 5 - INIZIO (≥300 righe) -->

      <!-- SCRIPT UTILITY, A11Y, MOBILE-FIRST & PERFORMANCE -->
      <script>
      'use strict';

      /* =========================================================================
         UTILS: throttle, debounce, qs helpers
         ========================================================================= */
      const $ = (sel, ctx=document) => ctx.querySelector(sel);
      const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));

      function throttle(fn, wait=200){
        let t = 0, lastArgs=null, timer=null;
        return function throttled(...args){
          const now = Date.now();
          const remain = wait - (now - t);
          lastArgs = args;
          if(remain <= 0){
            t = now;
            fn.apply(this, lastArgs);
            lastArgs = null;
          } else if(!timer){
            timer = setTimeout(()=>{
              t = Date.now();
              fn.apply(this, lastArgs || []);
              lastArgs = null;
              timer = null;
            }, remain);
          }
        };
      }

      function debounce(fn, wait=300){
        let id=null;
        return function debounced(...args){
          clearTimeout(id);
          id = setTimeout(()=>fn.apply(this,args), wait);
        };
      }

      /* =========================================================================
         A11Y: Skip link dinamico + focus management
         ========================================================================= */
      (function setupSkipLink(){
        const skip = document.createElement('a');
        skip.href = '#home';
        skip.textContent = 'Vai al contenuto';
        skip.className = 'skiplink';
        skip.style.cssText = `
          position:fixed;left:12px;top:-44px;z-index:2000;background:#111827;
          color:#fff;padding:10px 14px;border-radius:10px;border:1px solid #374151;
          box-shadow:0 8px 20px rgba(0,0,0,.35);transition:top .18s ease;`;
        skip.addEventListener('focus', ()=> skip.style.top='12px');
        skip.addEventListener('blur', ()=> skip.style.top='-44px');
        document.body.appendChild(skip);
      })();

      /* =========================================================================
         MOBILE-FIRST: smooth scroll ancorato con offset + preferenze utente
         ========================================================================= */
      <script>
(function smoothAnchors(){
  const prefersReduced = window.matchMedia?.('(prefers-reduced-motion: reduce)')?.matches;
  document.addEventListener('click', e=>{
    const a = e.target.closest('a[href^="#"]');
    if(!a) return;
    const id = a.getAttribute('href');
    if(!id || id === '#') return;
    const target = document.querySelector(id);
    if(!target) return;

    e.preventDefault();
    const rect = target.getBoundingClientRect();
    const y = window.scrollY + rect.top - 8; // piccolo offset
    window.scrollTo({ top: y, behavior: prefersReduced ? 'auto' : 'smooth' });

    // focus management (👉 queste 3 righe sostituiscono la riga troncata)
    target.setAttribute('tabindex','-1');
    target.focus({ preventScroll: true });
    setTimeout(()=> target.removeAttribute('tabindex'), 600);
  });
})();
</script>


    
      </script>

      <!-- STILI SUPPLEMENTARI (mobile-first refiner) -->
      <style>
        /* Migliora leggibilità chip su display molto piccoli */
        @media (max-width:420px){
          .chip{ font-size:.82rem; padding:.3rem .6rem; }
          .btn{ padding:.85rem .95rem; font-weight:800; }
          .section-title{ font-size: clamp(20px, 6vw, 30px); }
          .section-sub{ font-size: .98rem; }
          aside .snav a{ padding:.7rem .8rem; }
        }

        /* Migliora spaziatura per evitare tocchi involontari */
        @media (max-width:640px){
          .cta-row{ gap:.6rem }
          .services .p{ padding:16px }
          .wrap{ padding: clamp(14px, 4vw, 24px) }
        }

        /* Riduci intensità ombre su display OLED per risparmio batteria */
        @media (prefers-color-scheme: dark){
          .card, .svc{ box-shadow: 0 10px 26px rgba(0,0,0,.33); }
        }

        /* Focus ring coerente anche su iOS */
        :focus { outline-color: var(--accent); }

        /* Quick fix per ancore a basso viewport */
        @supports (scroll-margin-top: 12vh){
          section[id]{ scroll-margin-top: 12vh; }
        }

        /* Variant “compact” per sidebar in scroll su mobile (gestita via JS) */
        @media (max-width:980px){
          aside{ transition: padding .2s ease; }
        }

        /* Piccolo miglioramento contrasto per link social contatti */
        #contatti a{ text-decoration: underline; text-decoration-color: rgba(255,255,255,.2); text-underline-offset: 3px }
        #contatti a:hover{ text-decoration-color: rgba(255,255,255,.5) }

        /* Tooltip-like pulses sui bottoni pricing (richiamati via JS) */
        .card .btn{ will-change: transform, box-shadow; }

        /* Poster dei video: evita banding su gradienti scuri */
        .vid .poster{ background-color:#0b0f18; image-rendering:auto; }

        /* Err label del form (creata da JS) */
        .err-label{ user-select:none; }
      </style>

      <!-- JSON-LD aggiuntivo (Breadcrumbs opzionali) -->
      <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://tenerifefilm.vercel.app/#home" },
          { "@type": "ListItem", "position": 2, "name": "Portfolio", "item": "https://tenerifefilm.vercel.app/#portfolio" },
          { "@type": "ListItem", "position": 3, "name": "Servizi", "item": "https://tenerifefilm.vercel.app/#servizi" },
          { "@type": "ListItem", "position": 4, "name": "Prezzi", "item": "https://tenerifefilm.vercel.app/#prezzi" },
          { "@type": "ListItem", "position": 5, "name": "Contatti", "item": "https://tenerifefilm.vercel.app/#contatti" }
        ]
      }
      </script>

      <!-- NOTE:
           - Questa parte aggiunge funzioni JS e CSS complementari senza rimuovere nulla delle parti precedenti.
           - Nessuna dipendenza esterna; tutto vanilla e compatibile.
           - Tutti i cambiamenti sono non distruttivi (progressive enhancement).
      -->

<!-- PARTE 4 / 5 - FINE -->

<!-- PARTE 5 / 5 - INIZIO (≥300 righe) -->

      <!-- CONSENT-AWARE ANALYTICS & EMBEDS (caricati solo se l’utente acconsente) -->
      <script>
      'use strict';
      (function consentAware(){
        // Legge consensi e abilita integrazioni opzionali (analytics / embed esterni)
        function getCons(){
          try{ return JSON.parse(localStorage.getItem('tf_cookie_consents_v1') || '{}'); }
          catch(e){ return {}; }
        }
        function loadScript(src, attrs={}){
          return new Promise((resolve,reject)=>{
            const s = document.createElement('script');
            s.src = src; s.async = true;
            Object.entries(attrs).forEach(([k,v])=> s.setAttribute(k, v));
            s.onload = resolve; s.onerror = reject;
            document.head.appendChild(s);
          });
        }
        function addNoFlickerStyle(){
          // Evita layout shift se tool esterni iniettano elementi
          const st = document.createElement('style');
          st.textContent = `
            [data-thirdparty]{min-height:1px}
          `;
          document.head.appendChild(st);
        }

        const cons = getCons();
        addNoFlickerStyle();

        // === Analytics (esempio: Plausible o gtag) ===
        if(cons.analytics){
          // Plausible (privacy-first) — sostituisci data-domain se necessario
          loadScript('https://plausible.io/js/script.js', {"data-domain":"tenerifefilm.vercel.app"})
            .catch(()=>{ /* opzionale: fallback o no-op */ });
          // Oppure Google Analytics v4 (commentato per default)
          // loadScript('https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX').then(()=>{
          //   window.dataLayer = window.dataLayer || [];
          //   function gtag(){ dataLayer.push(arguments); }
          //   gtag('js', new Date());
          //   gtag('config', 'G-XXXXXXX');
          // });
        }

        // === Marketing/Video embeds ===
        if(cons.marketing){
          // Attiva eventuali iframes che avevano data-src (già gestito a runtime)
          document.querySelectorAll('iframe[data-src]').forEach(ifr=>{
            if(!ifr.src) ifr.src = ifr.dataset.src;
          });
          // Sblocca poster di copertura (se usati)
          document.querySelectorAll('.vid.blocked').forEach(el=> el.classList.remove('blocked'));
        }
      })();
      </script>

      <!-- GESTIONE EVENTI DI VISIBILITÀ: pausa video quando la pagina non è visibile -->
      <script>
      (function handleVisibilityForVideos(){
        function toggleAll(method){
          document.querySelectorAll('#portfolio iframe').forEach(ifr=>{
            try{
              if(ifr.contentWindow) ifr.contentWindow.postMessage({method}, '*');
            }catch(_){}
          });
        }
        document.addEventListener('visibilitychange', ()=>{
          if(document.hidden) toggleAll('pause'); else toggleAll('play');
        });
      })();
      </script>

      <!-- ACCESSIBILITÀ: ARIA live region per messaggi non intrusivi (form/cookie) -->
      <div id="ariaLive" aria-live="polite" aria-atomic="true" style="position:fixed;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden"></div>
      <script>
      (function ariaLive(){
        window.announce = function(msg){
          try{
            const node = document.getElementById('ariaLive');
            if(!node) return;
            node.textContent = '';
            setTimeout(()=>{ node.textContent = msg; }, 40);
          }catch(_){}
        };
      })();
      </script>

      <!-- TOAST LEGGERI (senza dipendenze) -->
      <style>
        .toast{
          position: fixed;
          left: 50%;
          bottom: 18px;
          transform: translateX(-50%) translateY(20px);
          background: linear-gradient(180deg,#0f131b,#0d121e);
          color: #e8eef6;
          border: 1px solid var(--border);
          border-radius: 12px;
          padding: 12px 16px;
          box-shadow: 0 12px 40px rgba(0,0,0,.6);
          opacity: 0;
          transition: transform .2s ease, opacity .2s ease;
          z-index: 160;
          max-width: 90vw;
          font-size: .95rem;
        }
        .toast.show{
          transform: translateX(-50%) translateY(0);
          opacity: 1;
        }
      </style>
      <script>
      (function toasts(){
        window.showToast = function(text, timeout=2400){
          const el = document.createElement('div');
          el.className = 'toast';
          el.textContent = text;
          document.body.appendChild(el);
          requestAnimationFrame(()=> el.classList.add('show'));
          setTimeout(()=>{
            el.classList.remove('show');
            setTimeout(()=> el.remove(), 280);
          }, timeout);
        };

        // Aggancia ad eventi noti: salvataggio cookie via setCookieConsent
        const _setCookieConsent = window.setCookieConsent;
        if(typeof _setCookieConsent === 'function'){
          window.setCookieConsent = function(obj){
            _setCookieConsent(obj);
            const lang = (localStorage.getItem('tf_lang') || 'it');
            const msg = (window.TRANSLATIONS && TRANSLATIONS[lang] && TRANSLATIONS[lang]['cookie.saved']) || 'Preferenze salvate';
            showToast(msg);
            announce(msg);
          };
        }
      })();
      </script>

      <!-- PRINT STYLES: solo contenuti essenziali e contact info -->
      <style>
        @media print {
          * { box-shadow: none !important; text-shadow: none !important; }
          html, body { background: #fff !important; color: #000 !important; }
          aside, .whats, iframe, video, .portfolio-sec, #cookieBanner, #cookieModalBackdrop { display: none !important; }
          .panel, .wrap { border: none !important; background: #fff !important; }
          .section-title { color: #000 !important; }
          a { color: #000 !important; text-decoration: underline !important; }
          #contatti .card { border: 1px solid #000 !important; }
          footer { border-top: 1px solid #000 !important; }
        }
      </style>

      <!-- LAZYLOAD POLITICA PER IMMAGINI DI BACKGROUND (osserva data-bg-priority) -->
      <script>
      (function bgPriority(){
        const prios = document.querySelectorAll('[data-bg-priority]');
        if(!prios.length) return;
        prios.forEach(el=>{
          const src = el.getAttribute('data-bg-priority');
          if(src){ el.style.backgroundImage = `url('${src}')`; }
        });
      })();
      </script>

      <!-- OTTIMIZZAZIONE MOBILE: hint per tastiera e viewport dinamico su iOS -->
      <script>
      (function viewportTune(){
        // iOS Safari: evita sballi quando appare tastiera
        try{
          const vhfix = ()=> {
            const vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
          };
          vhfix();
          window.addEventListener('resize', vhfix);
        }catch(_){}
      })();
      </script>

      <!-- KEYBOARD SHORTCUT: Alt+W per aprire WhatsApp CTA -->
      <script>
      (function whatsHotkey(){
        document.addEventListener('keydown', e=>{
          if(e.altKey && (e.key === 'w' || e.key === 'W')){
            const a = document.querySelector('.whats .btn[href^="https://wa.me"]') || document.querySelector('a[href^="https://wa.me"]');
            if(a){
              e.preventDefault();
              a.focus();
              // su mobile aprirà l'app, su desktop la web UI
              window.location.href = a.href;
            }
          }
        });
      })();
      </script>

      <!-- SAFETY: blocca scroll-jank dopo trigger di scrollTo con smooth -->
      <script>
      (function smoothGuard(){
        let locked = false;
        window.addEventListener('wheel', (e)=>{
          if(locked){ e.preventDefault(); }
        }, {passive:false});
        // Sblocca dopo 600ms dalla fine dello scroll
        window.addEventListener('scroll', ()=>{
          locked = true;
          clearTimeout(smoothGuard._t);
          smoothGuard._t = setTimeout(()=> locked = false, 600);
        }, {passive:true});
      })();
      </script>

      <!-- ACCESSIBILITÀ: riduci motion se preferito dal sistema -->
      <style>
        @media (prefers-reduced-motion: reduce){
          * { animation: none !important; transition-duration: .01ms !important; }
          .btn:hover { transform: none !important; }
        }
      </style>

      <!-- FALLBACK SW INLINE (opzionale): se /sw.js non esiste, registra uno SW in-memory -->
      <script>
      (function fallbackSW(){
        if(!('serviceWorker' in navigator)) return;
        // Prova a verificare se lo SW standard è registrato; se fallisce, crea blob SW
        navigator.serviceWorker.getRegistration().then(reg=>{
          if(reg) return; // già registrato
          // crea un piccolo SW in-memory per cache base (HTML/CSS/media)
          const src = `
            const CACHE='tf-cache-v1';
            const PRECACHE=[
              '/',
              '/media/hero.webp.jpg',
              '/media/bg-portfolio.webp.jpg',
              '/media/bg-pricing.webp.jpg',
              '/media/bg-process.webp.jpg',
              '/media/bg-reviews.webp.jpg',
              '/media/bg-deliver.webp.jpg',
              '/media/about-1.jpg'
            ];
            self.addEventListener('install', e=>{
              e.waitUntil(caches.open(CACHE).then(c=>c.addAll(PRECACHE)).then(()=>self.skipWaiting()));
            });
            self.addEventListener('activate', e=>{
              e.waitUntil(self.clients.claim());
            });
            self.addEventListener('fetch', e=>{
              const req = e.request;
              if(req.method!=='GET') return;
              e.respondWith(
                caches.match(req).then(res=> res || fetch(req).then(r=>{
                  const copy = r.clone();
                  caches.open(CACHE).then(c=> c.put(req, copy));
                  return r;
                }).catch(()=> caches.match('/')))
              );
            });
          `;
          const blob = new Blob([src], {type:'text/javascript'});
          const url = URL.createObjectURL(blob);
          navigator.serviceWorker.register(url).catch(()=>{});
        }).catch(()=>{});
      })();
      </script>

      <!-- MICRO-INTERAZIONI: hover/parallax leggero sulle card servizi (GPU-friendly) -->
      <script>
      (function parallaxCards(){
        const cards = document.querySelectorAll('.svc');
        if(!cards.length) return;
        const onMove = (e, el)=>{
          const r = el.getBoundingClientRect();
          const cx = (e.clientX - r.left) / r.width - .5;
          const cy = (e.clientY - r.top) / r.height - .5;
          el.style.transform = `translateZ(0) perspective(800px) rotateY(${cx*3}deg) rotateX(${ -cy*3 }deg)`;
        };
        cards.forEach(el=>{
          el.addEventListener('mousemove', e=> onMove(e, el));
          el.addEventListener('mouseleave', ()=> el.style.transform='translateZ(0)');
        });
      })();
      </script>

      <!-- AUTOSCROLL SOFT TOP quando si cambia lingua (migliore UX su mobile) -->
      <script>
      (function scrollTopOnLangChange(){
        const langButtons = document.querySelectorAll('.lang button');
        langButtons.forEach(b=>{
          b.addEventListener('click', ()=>{
            window.scrollTo({top:0, behavior:'smooth'});
          });
        });
      })();
      </script>

      <!-- OTTIMIZZAZIONE IMMAGINI: supporta lazy-loading nativo per <img> -->
      <script>
      (function lazyNativeImgs(){
        document.querySelectorAll('img').forEach(img=>{
          if(!img.hasAttribute('loading')) img.setAttribute('loading','lazy');
          if(!img.hasAttribute('decoding')) img.setAttribute('decoding','async');
        });
      })();
      </script>

      <!-- ACCESSIBILITÀ: Ruoli ARIA e titoli se mancanti nei link social -->
      <script>
      (function ariaSocial(){
        document.querySelectorAll('a[href*="instagram.com"]').forEach(a=>{
          if(!a.getAttribute('aria-label')) a.setAttribute('aria-label','Profilo Instagram');
          a.setAttribute('role','link');
        });
        document.querySelectorAll('a[href*="vimeo.com"]').forEach(a=>{
          if(!a.getAttribute('aria-label')) a.setAttribute('aria-label','Portfolio Vimeo');
          a.setAttribute('role','link');
        });
      })();
      </script>

      <!-- PROTEZIONE BASE: disabilita tasto destro sulle immagini (UX soft) -->
      <script>
      (function mildProtect(){
        document.addEventListener('contextmenu', (e)=>{
          const isImg = e.target && e.target.tagName === 'IMG';
          if(isImg){
            e.preventDefault();
            if(typeof showToast === 'function') showToast('Download disabilitato per le immagini.');
          }
        });
      })();
      </script>

      <!-- CLEANUP: rimuovi hash dal URL dopo smooth scroll (estetica) -->
      <script>
      (function cleanHash(){
        if('replaceState' in history){
          window.addEventListener('hashchange', ()=>{
            setTimeout(()=> history.replaceState('', document.title, window.location.pathname + window.location.search), 200);
          });
        }
      })();
      </script>

      <!-- HEARTBEAT UX: piccolo bagliore su Hero CTA ogni tanto (solo desktop) -->
      <style>
        @keyframes heroPulse {
          0% { box-shadow: 0 0 0 0 rgba(224,123,60,0.0); }
          50% { box-shadow: 0 0 0 14px rgba(224,123,60,0.08); }
          100% { box-shadow: 0 0 0 0 rgba(224,123,60,0.0); }
        }
        @media (hover:hover){
          .hero .btn:first-child.pulse {
            animation: heroPulse 2.4s ease-in-out infinite;
          }
        }
      </style>
      <script>
      (function heroPulseActivate(){
        const cta = document.querySelector('.hero .btn');
        if(!cta) return;
        let on = false;
        setInterval(()=>{
          on = !on;
          cta.classList.toggle('pulse', on);
        }, 6000);
      })();
      </script>

      <!-- FALLBACK PER BROWSER VECCHI: addEventListener su NodeList -->
      <script>
      (function nodelistForEach(){
        if(window.NodeList && !NodeList.prototype.forEach){
          NodeList.prototype.forEach = Array.prototype.forEach;
        }
      })();
      </script>

      <!-- MIGLIORA TAPPABILITÀ: aumenta area di click per chip su mobile -->
      <style>
        @media (max-width:560px){
          .chip{ padding:.45rem .8rem; }
          .snav a{ margin: 1px 0; }
        }
      </style>

      <!-- CONSOLE HINT: info utili in dev -->
      <script>
        console.log('%cAndrea Colucci Films','background:#0f1420;color:#ffe6c4;padding:6px 10px;border-radius:8px');
        console.log('Suggerimenti: usa Alt+K per aprire la gestione cookie • Alt+W per WhatsApp');
      </script>

      <!-- CHIUSURA MARKUP PRINCIPALE -->
    </main>
  </div> <!-- /.shell -->

  <!-- NOSCRIPT FALLBACK MINIMO (lingua IT) -->
  <noscript>
    <style>
      .vid iframe{ display:block; filter:none }
      [data-reveal]{ opacity:1; transform:none }
      #cookieBanner{ display:flex }
      <style>
  /* Elimina il gap tra aside (menu sinistro) e main su desktop */
  @media (min-width: 981px){
    .shell{ column-gap: 0 !important; }
    main{ padding-left: 0 !important; }
    main .panel{ margin-left: 0 !important; }
    main .panel > .wrap{ padding-left: 0 !important; }
  }
</style>

    </style>
    <div style="padding:18px;max-width:960px;margin:0 auto">
      <h3>JavaScript disabilitato</h3>
      <p>Per un’esperienza completa con traduzioni, portfolio e moduli interattivi, abilita JavaScript nel tuo browser.</p>
    </div>
  </noscript>
<style>
  /* Desktop: azzera OGNI spazio tra aside (menu) e main */
  @media (min-width: 981px){
    .shell{
      gap: 0 !important;
      grid-gap: 0 !important;          /* vecchie sintassi */
      column-gap: 0 !important;
      grid-column-gap: 0 !important;
      row-gap: 0 !important;
      grid-row-gap: 0 !important;
      padding-right: 0 !important;     /* difesa extra */
    }
    .shell > aside{
      margin-right: 0 !important;
      padding-right: 0 !important;     /* se il menu aggiunge spazio */
    }
    .shell > main{
      margin-left: 0 !important;
      padding-left: 0 !important;
    }
    .shell > main .panel{
      margin-left: 0 !important;
    }
    .shell > main .panel > .wrap{
      padding-left: 0 !important;
    }
  }

  /* Safari vecchi: assicurati che il gap sia zero comunque */
  @supports (display: grid){
    .shell{ grid-gap: 0 !important; }
  }
</style>
<!-- ============ MOBILE OVERLAY MENU (finale, desktop intatto) ============ -->
<style>
@media (max-width: 980px){
  /* Nascondi il vecchio aside */
  aside{ display:none !important; }

  /* Bottone hamburger */
  .mobi-menu-btn{
    position:fixed; top:10px; left:12px; z-index:99998;
    display:inline-flex; align-items:center; gap:8px;
    padding:10px 12px; border-radius:12px;
    background:linear-gradient(180deg,#0f131b,#0d121e);
    border:1px solid rgba(255,255,255,.12);
    box-shadow:0 8px 22px rgba(0,0,0,.35);
    color:#e8eef6; font-weight:900;
  }
  .mobi-bars{ width:18px; height:12px; position:relative; display:inline-block; }
  .mobi-bars::before,.mobi-bars::after,.mobi-bars span{
    content:""; position:absolute; left:0; right:0; height:2px; background:#e8eef6; border-radius:2px;
  }
  .mobi-bars::before{ top:0 } .mobi-bars span{ top:5px } .mobi-bars::after{ bottom:0 }
  .mobi-open .mobi-bars::before{ transform:translateY(5px) rotate(45deg); }
  .mobi-open .mobi-bars::after{ transform:translateY(-5px) rotate(-45deg); }
  .mobi-open .mobi-bars span{ opacity:0; }

  /* Overlay + pannello */
  .mobi-overlay{ position:fixed; inset:0; z-index:99997; display:none; }
  .mobi-overlay.is-open{ display:block; }
  .mobi-backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.55); backdrop-filter:blur(2px); }
  .mobi-sheet{
    position:absolute; left:0; right:0; top:0;
    transform:translateY(-100%); transition:transform .22s ease;
    background:
      linear-gradient(180deg, rgba(0,0,0,.92), rgba(0,0,0,.88)),
      url('/media/sidebar-texture.jpg') center/cover no-repeat;
    border-bottom:1px solid rgba(255,255,255,.12);
    box-shadow:0 16px 36px rgba(0,0,0,.6);
    max-height:85svh; overflow:auto; -webkit-overflow-scrolling:touch;
    padding:16px 14px; color:#e8eef6;
  }
  .mobi-overlay.is-open .mobi-sheet{ transform:translateY(0); }

  /* Sezioni / Lingue */
  .mobi-accordion-btn{
    width:100%; text-align:left; padding:12px 14px; border-radius:12px;
    background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12);
    color:#e8eef6; font-weight:900; letter-spacing:.2px; margin:8px 0;
  }
  .mobi-accordion-panel{
    overflow:hidden; max-height:0; transition:max-height .22s ease;
    border:1px solid rgba(255,255,255,.12); border-radius:12px;
    background:rgba(255,255,255,.03);
  }
  .mobi-accordion-panel.open{ padding:8px; }
  .mobi-panel-inner{ padding:6px; }

  .mobi-links{ display:flex; flex-direction:column; gap:6px; }
  .mobi-links a{ display:block; padding:12px; border-radius:10px; font-weight:800; color:#eef2f6; }
  .mobi-links a:hover{ background:rgba(255,255,255,.06); }

  .mobi-lang{ display:flex; gap:6px; }
  .mobi-lang button{
    flex:1; background:transparent; border:1px solid rgba(255,255,255,.12);
    color:#d7dee9; padding:.55rem; border-radius:10px; font-weight:800; min-width:44px;
  }
  .mobi-lang button.active{ border-color:#e07b3c; color:#fff; box-shadow:0 0 0 2px rgba(224,123,60,.12) inset; }

  /* Contatti in colonna */
  #contatti .wrap > div{ display:grid !important; grid-template-columns:1fr !important; gap:12px !important; }
  #contatti .card{ border-radius:14px; }
  #contatti input, #contatti textarea{ padding:14px !important; font-size:16px; border-radius:12px; }
  #contatti .btn[type="submit"]{ width:100%; }

  /* CTA in fondo (non sticky) */
  .contact-cta{
    margin-top:40px; display:flex; flex-direction:column; gap:10px;
    text-align:center;
  }
  .contact-cta .btn{
    display:inline-flex; justify-content:center; align-items:center;
    padding:.9rem 1.2rem; border-radius:12px; font-weight:900;
    border:1px solid rgba(255,255,255,.12);
  }
  .contact-cta .btn-wh{ background:linear-gradient(135deg,#f6c85f,#f9e3a3); color:#2b1d0f; }
  .contact-cta .btn-call{ background:transparent; color:#eef2f6; }

  html.mobi-open, body.mobi-open{ overflow:hidden !important; }
}
</style>

<!-- MENU MOBILE -->
<div class="mobi-overlay" id="mobiOverlay" aria-hidden="true">
  <div class="mobi-backdrop" id="mobiBackdrop"></div>
  <nav class="mobi-sheet" role="navigation" aria-label="Menu mobile">
    <button class="mobi-accordion-btn" type="button" id="mobiNavBtn">Sezioni</button>
    <div class="mobi-accordion-panel" id="mobiNavPanel">
      <div class="mobi-panel-inner">
        <div class="mobi-links">
          <a href="#home">Home</a>
          <a href="#servizi">Servizi</a>
          <a href="#portfolio">Portfolio</a>
          <a href="#prezzi">Prezzi</a>
          <a href="#chi-sono">Chi sono</a>
          <a href="#processo">Processo</a>
          <a href="#faq">FAQ</a>
          <a href="#contatti">Contatti</a>
        </div>
      </div>
    </div>

    <button class="mobi-accordion-btn" type="button" id="mobiLangBtn">Lingua</button>
    <div class="mobi-accordion-panel" id="mobiLangPanel">
      <div class="mobi-panel-inner">
        <div class="mobi-lang">
          <button type="button" data-lang="it">IT</button>
          <button type="button" data-lang="en">EN</button>
          <button type="button" data-lang="es">ES</button>
        </div>
      </div>
    </div>
  </nav>
</div>

<button class="mobi-menu-btn" id="mobiTrigger" aria-label="Apri menu" aria-expanded="false">
  <span class="mobi-bars"><span></span></span><span>Menu</span>
</button>

<script>
(function(){
  if (!window.matchMedia || !window.matchMedia('(max-width:980px)').matches) return;

  const html = document.documentElement;
  const overlay = document.getElementById('mobiOverlay');
  const trigger = document.getElementById('mobiTrigger');
  const backdrop = document.getElementById('mobiBackdrop');
  const navBtn = document.getElementById('mobiNavBtn');
  const navPanel = document.getElementById('mobiNavPanel');
  const langBtn = document.getElementById('mobiLangBtn');
  const langPanel = document.getElementById('mobiLangPanel');

  function openMenu(){
    overlay.classList.add('is-open');
    html.classList.add('mobi-open');
    trigger.classList.add('mobi-open');
    trigger.setAttribute('aria-expanded','true');
    openPanel(navPanel); openPanel(langPanel);
  }
  function closeMenu(){
    overlay.classList.remove('is-open');
    html.classList.remove('mobi-open');
    trigger.classList.remove('mobi-open');
    trigger.setAttribute('aria-expanded','false');
  }
  function togglePanel(panel){
    const open = panel.classList.contains('open');
    open ? closePanel(panel) : openPanel(panel);
  }
  function openPanel(panel){
    if(panel.classList.contains('open')) return;
    panel.classList.add('open');
    panel.style.maxHeight = panel.scrollHeight + 'px';
  }
  function closePanel(panel){
    panel.style.maxHeight = '0px';
    panel.classList.remove('open');
  }

  trigger.addEventListener('click', ()=> overlay.classList.contains('is-open') ? closeMenu() : openMenu());
  backdrop.addEventListener('click', closeMenu);
  document.addEventListener('keydown', e=>{ if(e.key==='Escape') closeMenu(); }, {passive:true});
  navBtn.addEventListener('click', ()=> togglePanel(navPanel));
  langBtn.addEventListener('click', ()=> togglePanel(langPanel));

  overlay.querySelectorAll('a, [data-lang]').forEach(el=>{
    el.addEventListener('click', ()=> { if(el.tagName==='A') closeMenu(); });
  });

  // Lingue
  const cur = (localStorage.getItem('tf_lang') || document.documentElement.lang || 'it').slice(0,2);
  langPanel.querySelectorAll('[data-lang]').forEach(b=>{
    if(b.dataset.lang===cur) b.classList.add('active');
    b.addEventListener('click', ()=>{
      const code = b.dataset.lang;
      try{
        if(typeof setLang === 'function'){ setLang(code); }
        else {
          const u = new URL(window.location);
          u.searchParams.set('lang', code);
          window.location.href = u.toString();
        }
      }catch(_){}
      localStorage.setItem('tf_lang', code);
      langPanel.querySelectorAll('[data-lang]').forEach(x=> x.classList.toggle('active', x===b));
    });
  });

  // Forza colonna contatti
  const grid = document.querySelector('#contatti .wrap > div');
  if(grid){
    const cards = grid.querySelectorAll('.card');
    if(cards.length===2){
      const firstIsForm = !!cards[0].querySelector('form');
      if(firstIsForm) grid.insertBefore(cards[1], cards[0]);
    }
    // Aggiungi CTA in fondo
    if(!grid.querySelector('.contact-cta')){
      const cta = document.createElement('div');
      cta.className = 'contact-cta';
      cta.innerHTML = `
        <a class="btn btn-wh" href="https://wa.me/393910911719" aria-label="WhatsApp">Scrivimi su WhatsApp</a>
        <a class="btn btn-call" href="tel:+393910911719" aria-label="Chiama ora">Chiama ora</a>
        <a class="btn btn-call" href="#contatti" aria-label="Richiedi preventivo">Richiedi preventivo</a>
      `;
      grid.appendChild(cta);
    }
  }
})();
</script>
<!-- ============ /MOBILE OVERLAY MENU ============ -->
<!-- === PATCH: CTA SOLO NEL FOOTER (no bottoni flottanti) === -->
<style>
  /* Nascondi qualunque CTA flottante residua */
  .whats,
  .mobile-cta-bar,
  .mobi-fixed-cta { display:none !important; }

  /* CTA nel footer: di default nascosta, visibile su mobile */
  .footer-cta{ display:none; }
  @media (max-width:980px){
    .footer-cta{
      display:flex; flex-direction:column; gap:10px; margin:18px 0 10px;
      text-align:center;
    }
    .footer-cta .btn{
      display:inline-flex; justify-content:center; align-items:center;
      padding:.9rem 1.2rem; border-radius:12px; font-weight:900;
      border:1px solid rgba(255,255,255,.12);
    }
    .footer-cta .btn-wh{ background:linear-gradient(135deg,#f6c85f,#f9e3a3); color:#2b1d0f; }
    .footer-cta .btn-call{ background:transparent; color:#eef2f6; }
  }
</style>

<script>
(function placeFooterCTA(){
  // 1) rimuovi eventuali CTA flottanti lasciate in giro
  ['.whats','.mobile-cta-bar','.mobi-fixed-cta'].forEach(sel=>{
    document.querySelectorAll(sel).forEach(el=> el.remove());
  });

  // 2) inserisci le CTA nel footer, sopra il blocco con ©/Privacy
  const footer = document.querySelector('footer .wrap');
  if(!footer || footer.querySelector('.footer-cta')) return;

  const cta = document.createElement('div');
  cta.className = 'footer-cta';
  cta.innerHTML = `
    <a class="btn btn-wh" href="https://wa.me/393910911719" aria-label="WhatsApp">Scrivimi su WhatsApp</a>
    <a class="btn btn-call" href="tel:+393910911719" aria-label="Chiama ora">Chiama ora</a>
    <a class="btn btn-call" href="#contatti" aria-label="Richiedi preventivo">Richiedi preventivo</a>
  `;

  // Mettila come primissimo elemento dentro il footer, così sta sopra a ©/Privacy
  footer.insertBefore(cta, footer.firstChild);
})();
</script>
<!-- === /PATCH === -->

</body>
</html>
